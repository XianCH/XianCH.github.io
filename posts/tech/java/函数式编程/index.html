<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>javaå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ | X14n&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="//æŸ¥è¯¢æœªæˆå¹´ä½œå®¶çš„è¯„åˆ†åœ¨70ä»¥ä¸Šçš„ä¹¦ç± ç”±äºæ´‹æµå½±å“æ‰€ä»¥ä½œå®¶å’Œä¹¦ç±å¯èƒ½å‡ºç°é‡å¤ï¼Œéœ€è¦è¿›è¡Œå»é‡ List&lt;Book&gt; bookList = new ArrayList&lt;&gt;(); Set&lt;Book&gt; uniqueBookValues = new HashSet&lt;&gt;(); Set&lt;Author&gt; uniqueAuthorValues = new HashSet&lt;&gt;(); for (Author author : authors) { if (uniqueAuthorValues.add(author)) { if (author.getAge() &lt; 18) { List&lt;Book&gt; books = author.getBooks(); for (Book book : books) { if (book.getScore() &gt; 70) { if (uniqueBookValues.add(book)) { bookList.add(book); } } } } } } System.out.println(bookList); List&lt;Book&gt; collect = authors.stream() .distinct() .filter(author -&gt; author.getAge() &lt; 18) .map(author -&gt; author.getBooks()) .flatMap(Collection::stream) .filter(book -&gt; book.getScore() &gt; 70) .distinct() .collect(Collectors.toList()); System.out.println(collect); 1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ 1.2.1 æ¦‚å¿µ â€‹ é¢å‘å¯¹è±¡æ€">
<meta name="author" content="x14n">
<link rel="canonical" href="https://XianCH.github.io/posts/tech/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://XianCH.github.io/img/favicon.icon">
<link rel="icon" type="image/png" sizes="16x16" href="https://XianCH.github.io/img/main.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://XianCH.github.io/img/main.png">
<link rel="apple-touch-icon" href="https://XianCH.github.io/img/main.png">
<link rel="mask-icon" href="https://XianCH.github.io/img/main.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://XianCH.github.io/posts/tech/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script defer src="https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  

<meta property="og:title" content="javaå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³" />
<meta property="og:description" content="//æŸ¥è¯¢æœªæˆå¹´ä½œå®¶çš„è¯„åˆ†åœ¨70ä»¥ä¸Šçš„ä¹¦ç± ç”±äºæ´‹æµå½±å“æ‰€ä»¥ä½œå®¶å’Œä¹¦ç±å¯èƒ½å‡ºç°é‡å¤ï¼Œéœ€è¦è¿›è¡Œå»é‡ List&lt;Book&gt; bookList = new ArrayList&lt;&gt;(); Set&lt;Book&gt; uniqueBookValues = new HashSet&lt;&gt;(); Set&lt;Author&gt; uniqueAuthorValues = new HashSet&lt;&gt;(); for (Author author : authors) { if (uniqueAuthorValues.add(author)) { if (author.getAge() &lt; 18) { List&lt;Book&gt; books = author.getBooks(); for (Book book : books) { if (book.getScore() &gt; 70) { if (uniqueBookValues.add(book)) { bookList.add(book); } } } } } } System.out.println(bookList); List&lt;Book&gt; collect = authors.stream() .distinct() .filter(author -&gt; author.getAge() &lt; 18) .map(author -&gt; author.getBooks()) .flatMap(Collection::stream) .filter(book -&gt; book.getScore() &gt; 70) .distinct() .collect(Collectors.toList()); System.out.println(collect); 1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ 1.2.1 æ¦‚å¿µ â€‹ é¢å‘å¯¹è±¡æ€" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://XianCH.github.io/posts/tech/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" />
<meta property="og:image" content="https://XianCH.github.io/postsImg/function.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-25T10:16:51+00:00" />
<meta property="article:modified_time" content="2023-09-22T10:16:51+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://XianCH.github.io/postsImg/function.jpg" />
<meta name="twitter:title" content="javaå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³"/>
<meta name="twitter:description" content="//æŸ¥è¯¢æœªæˆå¹´ä½œå®¶çš„è¯„åˆ†åœ¨70ä»¥ä¸Šçš„ä¹¦ç± ç”±äºæ´‹æµå½±å“æ‰€ä»¥ä½œå®¶å’Œä¹¦ç±å¯èƒ½å‡ºç°é‡å¤ï¼Œéœ€è¦è¿›è¡Œå»é‡ List&lt;Book&gt; bookList = new ArrayList&lt;&gt;(); Set&lt;Book&gt; uniqueBookValues = new HashSet&lt;&gt;(); Set&lt;Author&gt; uniqueAuthorValues = new HashSet&lt;&gt;(); for (Author author : authors) { if (uniqueAuthorValues.add(author)) { if (author.getAge() &lt; 18) { List&lt;Book&gt; books = author.getBooks(); for (Book book : books) { if (book.getScore() &gt; 70) { if (uniqueBookValues.add(book)) { bookList.add(book); } } } } } } System.out.println(bookList); List&lt;Book&gt; collect = authors.stream() .distinct() .filter(author -&gt; author.getAge() &lt; 18) .map(author -&gt; author.getBooks()) .flatMap(Collection::stream) .filter(book -&gt; book.getScore() &gt; 70) .distinct() .collect(Collectors.toList()); System.out.println(collect); 1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ 1.2.1 æ¦‚å¿µ â€‹ é¢å‘å¯¹è±¡æ€"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [

        {
          "@type": "ListItem",
          "position":  1 ,
          "name": "ğŸ“šæ–‡ç« ",
          "item": "https://XianCH.github.io/posts/"
        },

        {
          "@type": "ListItem",
          "position":  2 ,
          "name": "ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯",
          "item": "https://XianCH.github.io/posts/tech/"
        }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "javaå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³",
      "item": "https://XianCH.github.io/posts/tech/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "javaå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³",
  "name": "javaå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³",
  "description": "//æŸ¥è¯¢æœªæˆå¹´ä½œå®¶çš„è¯„åˆ†åœ¨70ä»¥ä¸Šçš„ä¹¦ç± ç”±äºæ´‹æµå½±å“æ‰€ä»¥ä½œå®¶å’Œä¹¦ç±å¯èƒ½å‡ºç°é‡å¤ï¼Œéœ€è¦è¿›è¡Œå»é‡ List\u0026lt;Book\u0026gt; bookList = new ArrayList\u0026lt;\u0026gt;(); Set\u0026lt;Book\u0026gt; uniqueBookValues = new HashSet\u0026lt;\u0026gt;(); Set\u0026lt;Author\u0026gt; uniqueAuthorValues = new HashSet\u0026lt;\u0026gt;(); for (Author author : authors) { if (uniqueAuthorValues.add(author)) { if (author.getAge() \u0026lt; 18) { List\u0026lt;Book\u0026gt; books = author.getBooks(); for (Book book : books) { if (book.getScore() \u0026gt; 70) { if (uniqueBookValues.add(book)) { bookList.add(book); } } } } } } System.out.println(bookList); List\u0026lt;Book\u0026gt; collect = authors.stream() .distinct() .filter(author -\u0026gt; author.getAge() \u0026lt; 18) .map(author -\u0026gt; author.getBooks()) .flatMap(Collection::stream) .filter(book -\u0026gt; book.getScore() \u0026gt; 70) .distinct() .collect(Collectors.toList()); System.out.println(collect); 1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ 1.2.1 æ¦‚å¿µ â€‹ é¢å‘å¯¹è±¡æ€",
  "keywords": [
    ""
  ],
  "articleBody": "//æŸ¥è¯¢æœªæˆå¹´ä½œå®¶çš„è¯„åˆ†åœ¨70ä»¥ä¸Šçš„ä¹¦ç± ç”±äºæ´‹æµå½±å“æ‰€ä»¥ä½œå®¶å’Œä¹¦ç±å¯èƒ½å‡ºç°é‡å¤ï¼Œéœ€è¦è¿›è¡Œå»é‡ List\u003cBook\u003e bookList = new ArrayList\u003c\u003e(); Set\u003cBook\u003e uniqueBookValues = new HashSet\u003c\u003e(); Set\u003cAuthor\u003e uniqueAuthorValues = new HashSet\u003c\u003e(); for (Author author : authors) { if (uniqueAuthorValues.add(author)) { if (author.getAge() \u003c 18) { List\u003cBook\u003e books = author.getBooks(); for (Book book : books) { if (book.getScore() \u003e 70) { if (uniqueBookValues.add(book)) { bookList.add(book); } } } } } } System.out.println(bookList); List\u003cBook\u003e collect = authors.stream() .distinct() .filter(author -\u003e author.getAge() \u003c 18) .map(author -\u003e author.getBooks()) .flatMap(Collection::stream) .filter(book -\u003e book.getScore() \u003e 70) .distinct() .collect(Collectors.toList()); System.out.println(collect); 1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ 1.2.1 æ¦‚å¿µ â€‹\té¢å‘å¯¹è±¡æ€æƒ³éœ€è¦å…³æ³¨ç”¨ä»€ä¹ˆå¯¹è±¡å®Œæˆä»€ä¹ˆäº‹æƒ…ã€‚è€Œå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³å°±ç±»ä¼¼äºæˆ‘ä»¬æ•°å­¦ä¸­çš„å‡½æ•°ã€‚å®ƒä¸»è¦å…³æ³¨çš„æ˜¯å¯¹æ•°æ®è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œã€‚\n1.2.2 ä¼˜ç‚¹ ä»£ç ç®€æ´ï¼Œå¼€å‘å¿«é€Ÿ æ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œæ˜“äºç†è§£ æ˜“äº\"å¹¶å‘ç¼–ç¨‹\" 2. Lambdaè¡¨è¾¾å¼ 2.1 æ¦‚è¿° â€‹\tLambdaæ˜¯JDK8ä¸­ä¸€ä¸ªè¯­æ³•ç³–ã€‚ä»–å¯ä»¥å¯¹æŸäº›åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è¿›è¡Œç®€åŒ–ã€‚å®ƒæ˜¯å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³çš„ä¸€ä¸ªé‡è¦ä½“ç°ã€‚è®©æˆ‘ä»¬ä¸ç”¨å…³æ³¨æ˜¯ä»€ä¹ˆå¯¹è±¡ã€‚è€Œæ˜¯æ›´å…³æ³¨æˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œã€‚\n2.2 æ ¸å¿ƒåŸåˆ™ å¯æ¨å¯¼å¯çœç•¥\n2. 3 åŸºæœ¬æ ¼å¼ (å‚æ•°åˆ—è¡¨)-\u003e{ä»£ç } ä¾‹ä¸€ æˆ‘ä»¬åœ¨åˆ›å»ºçº¿ç¨‹å¹¶å¯åŠ¨æ—¶å¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•ï¼š\nnew Thread(new Runnable() { @Override public void run() { System.out.println(\"ä½ çŸ¥é“å— æˆ‘æ¯”ä½ æƒ³è±¡çš„ æ›´æƒ³åœ¨ä½ èº«è¾¹\"); } }).start(); å¯ä»¥ä½¿ç”¨Lambdaçš„æ ¼å¼å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚ä¿®æ”¹åå¦‚ä¸‹ï¼š\nnew Thread(()-\u003e{ System.out.println(\"ä½ çŸ¥é“å— æˆ‘æ¯”ä½ æƒ³è±¡çš„ æ›´æƒ³åœ¨ä½ èº«è¾¹\"); }).start(); ä¾‹äºŒ: ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­IntBinaryOperatoræ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚\npublic static int calculateNum(IntBinaryOperator operator){ int a = 10; int b = 20; return operator.applyAsInt(a, b); } public static void main(String[] args) { int i = calculateNum(new IntBinaryOperator() { @Override public int applyAsInt(int left, int right) { return left + right; } }); System.out.println(i); } Lambdaå†™æ³•ï¼š\npublic static void main(String[] args) { int i = calculateNum((int left, int right)-\u003e{ return left + right; }); System.out.println(i); } ä¾‹ä¸‰ï¼š ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­IntPredicateæ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚\npublic static void printNum(IntPredicate predicate){ int[] arr = {1,2,3,4,5,6,7,8,9,10}; for (int i : arr) { if(predicate.test(i)){ System.out.println(i); } } } public static void main(String[] args) { printNum(new IntPredicate() { @Override public boolean test(int value) { return value%2==0; } }); } Lambdaå†™æ³•ï¼š\npublic static void main(String[] args) { printNum((int value)-\u003e { return value%2==0; }); } public static void printNum(IntPredicate predicate){ int[] arr = {1,2,3,4,5,6,7,8,9,10}; for (int i : arr) { if(predicate.test(i)){ System.out.println(i); } } } ä¾‹å››ï¼š ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­Functionæ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚\npublic static \u003cR\u003e R typeConver(Function\u003cString,R\u003e function){ String str = \"1235\"; R result = function.apply(str); return result; } public static void main(String[] args) { Integer result = typeConver(new Function\u003cString, Integer\u003e() { @Override public Integer apply(String s) { return Integer.valueOf(s); } }); System.out.println(result); } Lambdaå†™æ³•ï¼š\nInteger result = typeConver((String s)-\u003e{ return Integer.valueOf(s); }); System.out.println(result); ä¾‹äº”ï¼š ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­IntConsumeræ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚\npublic static void foreachArr(IntConsumer consumer){ int[] arr = {1,2,3,4,5,6,7,8,9,10}; for (int i : arr) { consumer.accept(i); } } public static void main(String[] args) { foreachArr(new IntConsumer() { @Override public void accept(int value) { System.out.println(value); } }); } Lambdaå†™æ³•ï¼š\npublic static void main(String[] args) { foreachArr((int value)-\u003e{ System.out.println(value); }); } 2.4 çœç•¥è§„åˆ™ å‚æ•°ç±»å‹å¯ä»¥çœç•¥ æ–¹æ³•ä½“åªæœ‰ä¸€å¥ä»£ç æ—¶å¤§æ‹¬å·returnå’Œå”¯ä¸€ä¸€å¥ä»£ç çš„åˆ†å·å¯ä»¥çœç•¥ æ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å°æ‹¬å·å¯ä»¥çœç•¥ ä»¥ä¸Šè¿™äº›è§„åˆ™éƒ½è®°ä¸ä½ä¹Ÿå¯ä»¥çœç•¥ä¸è®° 3. Streamæµ 3.1 æ¦‚è¿° â€‹\tJava8çš„Streamä½¿ç”¨çš„æ˜¯å‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼ï¼Œå¦‚åŒå®ƒçš„åå­—ä¸€æ ·ï¼Œå®ƒå¯ä»¥è¢«ç”¨æ¥å¯¹é›†åˆæˆ–æ•°ç»„è¿›è¡Œé“¾çŠ¶æµå¼çš„æ“ä½œã€‚å¯ä»¥æ›´æ–¹ä¾¿çš„è®©æˆ‘ä»¬å¯¹é›†åˆæˆ–æ•°ç»„æ“ä½œã€‚\n3.2 æ¡ˆä¾‹æ•°æ®å‡†å¤‡ org.projectlombok lombok 1.18.16 @Data @NoArgsConstructor @AllArgsConstructor @EqualsAndHashCode//ç”¨äºåæœŸçš„å»é‡ä½¿ç”¨ public class Author { //id private Long id; //å§“å private String name; //å¹´é¾„ private Integer age; //ç®€ä»‹ private String intro; //ä½œå“ private List\u003cBook\u003e books; } @Data @AllArgsConstructor @NoArgsConstructor @EqualsAndHashCode//ç”¨äºåæœŸçš„å»é‡ä½¿ç”¨ public class Book { //id private Long id; //ä¹¦å private String name; //åˆ†ç±» private String category; //è¯„åˆ† private Integer score; //ç®€ä»‹ private String intro; } private static List\u003cAuthor\u003e getAuthors() { //æ•°æ®åˆå§‹åŒ– Author author = new Author(1L,\"è’™å¤š\",33,\"ä¸€ä¸ªä»èœåˆ€ä¸­æ˜æ‚Ÿå“²ç†çš„ç¥–å®‰äºº\",null); Author author2 = new Author(2L,\"äºšæ‹‰ç´¢\",15,\"ç‹‚é£ä¹Ÿè¿½é€ä¸ä¸Šä»–çš„æ€è€ƒé€Ÿåº¦\",null); Author author3 = new Author(3L,\"æ˜“\",14,\"æ˜¯è¿™ä¸ªä¸–ç•Œåœ¨é™åˆ¶ä»–çš„æ€ç»´\",null); Author author4 = new Author(3L,\"æ˜“\",14,\"æ˜¯è¿™ä¸ªä¸–ç•Œåœ¨é™åˆ¶ä»–çš„æ€ç»´\",null); //ä¹¦ç±åˆ—è¡¨ List\u003cBook\u003e books1 = new ArrayList\u003c\u003e(); List\u003cBook\u003e books2 = new ArrayList\u003c\u003e(); List\u003cBook\u003e books3 = new ArrayList\u003c\u003e(); books1.add(new Book(1L,\"åˆ€çš„ä¸¤ä¾§æ˜¯å…‰æ˜ä¸é»‘æš—\",\"å“²å­¦,çˆ±æƒ…\",88,\"ç”¨ä¸€æŠŠåˆ€åˆ’åˆ†äº†çˆ±æ¨\")); books1.add(new Book(2L,\"ä¸€ä¸ªäººä¸èƒ½æ­»åœ¨åŒä¸€æŠŠåˆ€ä¸‹\",\"ä¸ªäººæˆé•¿,çˆ±æƒ…\",99,\"è®²è¿°å¦‚ä½•ä»å¤±è´¥ä¸­æ˜æ‚ŸçœŸç†\")); books2.add(new Book(3L,\"é‚£é£å¹ä¸åˆ°çš„åœ°æ–¹\",\"å“²å­¦\",85,\"å¸¦ä½ ç”¨æ€ç»´å»é¢†ç•¥ä¸–ç•Œçš„å°½å¤´\")); books2.add(new Book(3L,\"é‚£é£å¹ä¸åˆ°çš„åœ°æ–¹\",\"å“²å­¦\",85,\"å¸¦ä½ ç”¨æ€ç»´å»é¢†ç•¥ä¸–ç•Œçš„å°½å¤´\")); books2.add(new Book(4L,\"å¹æˆ–ä¸å¹\",\"çˆ±æƒ…,ä¸ªäººä¼ è®°\",56,\"ä¸€ä¸ªå“²å­¦å®¶çš„æ‹çˆ±è§‚æ³¨å®šå¾ˆéš¾æŠŠä»–æ‰€åœ¨çš„æ—¶ä»£ç†è§£\")); books3.add(new Book(5L,\"ä½ çš„å‰‘å°±æ˜¯æˆ‘çš„å‰‘\",\"çˆ±æƒ…\",56,\"æ— æ³•æƒ³è±¡ä¸€ä¸ªæ­¦è€…èƒ½å¯¹ä»–çš„ä¼´ä¾£è¿™ä¹ˆçš„å®½å®¹\")); books3.add(new Book(6L,\"é£ä¸å‰‘\",\"ä¸ªäººä¼ è®°\",100,\"ä¸¤ä¸ªå“²å­¦å®¶çµé­‚å’Œè‚‰ä½“çš„ç¢°æ’ä¼šæ¿€èµ·æ€ä¹ˆæ ·çš„ç«èŠ±å‘¢ï¼Ÿ\")); books3.add(new Book(6L,\"é£ä¸å‰‘\",\"ä¸ªäººä¼ è®°\",100,\"ä¸¤ä¸ªå“²å­¦å®¶çµé­‚å’Œè‚‰ä½“çš„ç¢°æ’ä¼šæ¿€èµ·æ€ä¹ˆæ ·çš„ç«èŠ±å‘¢ï¼Ÿ\")); author.setBooks(books1); author2.setBooks(books2); author3.setBooks(books3); author4.setBooks(books3); List\u003cAuthor\u003e authorList = new ArrayList\u003c\u003e(Arrays.asList(author,author2,author3,author4)); return authorList; } 3.3 å¿«é€Ÿå…¥é—¨ 3.3.1 éœ€æ±‚ â€‹\tæˆ‘ä»¬å¯ä»¥è°ƒç”¨getAuthorsæ–¹æ³•è·å–åˆ°ä½œå®¶çš„é›†åˆã€‚ç°åœ¨éœ€è¦æ‰“å°æ‰€æœ‰å¹´é¾„å°äº18çš„ä½œå®¶çš„åå­—ï¼Œå¹¶ä¸”è¦æ³¨æ„å»é‡ã€‚\n3.3.2 å®ç° //æ‰“å°æ‰€æœ‰å¹´é¾„å°äº18çš„ä½œå®¶çš„åå­—ï¼Œå¹¶ä¸”è¦æ³¨æ„å»é‡ List\u003cAuthor\u003e authors = getAuthors(); authors. stream()//æŠŠé›†åˆè½¬æ¢æˆæµ .distinct()//å…ˆå»é™¤é‡å¤çš„ä½œå®¶ .filter(author -\u003e author.getAge()\u003c18)//ç­›é€‰å¹´é¾„å°äº18çš„ .forEach(author -\u003e System.out.println(author.getName()));//éå†æ‰“å°åå­— 3.4 å¸¸ç”¨æ“ä½œ 3.4.1 åˆ›å»ºæµ å•åˆ—é›†åˆï¼š é›†åˆå¯¹è±¡.stream()\nList\u003cAuthor\u003e authors = getAuthors(); Stream\u003cAuthor\u003e stream = authors.stream(); æ•°ç»„ï¼šArrays.stream(æ•°ç»„) æˆ–è€…ä½¿ç”¨Stream.ofæ¥åˆ›å»º\nInteger[] arr = {1,2,3,4,5}; Stream\u003cInteger\u003e stream = Arrays.stream(arr); Stream\u003cInteger\u003e stream2 = Stream.of(arr); åŒåˆ—é›†åˆï¼šè½¬æ¢æˆå•åˆ—é›†åˆåå†åˆ›å»º\nMap\u003cString,Integer\u003e map = new HashMap\u003c\u003e(); map.put(\"èœ¡ç¬”å°æ–°\",19); map.put(\"é»‘å­\",17); map.put(\"æ—¥å‘ç¿”é˜³\",16); Stream\u003cMap.Entry\u003cString, Integer\u003e\u003e stream = map.entrySet().stream(); 3.4.2 ä¸­é—´æ“ä½œ filter â€‹\tå¯ä»¥å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œæ¡ä»¶è¿‡æ»¤ï¼Œç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ‰èƒ½ç»§ç»­ç•™åœ¨æµä¸­ã€‚\nä¾‹å¦‚ï¼š\nâ€‹\tæ‰“å°æ‰€æœ‰å§“åé•¿åº¦å¤§äº1çš„ä½œå®¶çš„å§“å\nList\u003cAuthor\u003e authors = getAuthors(); authors.stream() .filter(author -\u003e author.getName().length()\u003e1) .forEach(author -\u003e System.out.println(author.getName())); map â€‹\tå¯ä»¥æŠŠå¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œè®¡ç®—æˆ–è½¬æ¢ã€‚\nä¾‹å¦‚ï¼š\nâ€‹\tæ‰“å°æ‰€æœ‰ä½œå®¶çš„å§“å\nList\u003cAuthor\u003e authors = getAuthors(); authors .stream() .map(author -\u003e author.getName()) .forEach(name-\u003eSystem.out.println(name)); // æ‰“å°æ‰€æœ‰ä½œå®¶çš„å§“å List\u003cAuthor\u003e authors = getAuthors(); // authors.stream() // .map(author -\u003e author.getName()) // .forEach(s -\u003e System.out.println(s)); authors.stream() .map(author -\u003e author.getAge()) .map(age-\u003eage+10) .forEach(age-\u003e System.out.println(age)); distinct â€‹\tå¯ä»¥å»é™¤æµä¸­çš„é‡å¤å…ƒç´ ã€‚\nä¾‹å¦‚ï¼š\nâ€‹\tæ‰“å°æ‰€æœ‰ä½œå®¶çš„å§“åï¼Œå¹¶ä¸”è¦æ±‚å…¶ä¸­ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚\nList\u003cAuthor\u003e authors = getAuthors(); authors.stream() .distinct() .forEach(author -\u003e System.out.println(author.getName())); æ³¨æ„ï¼šdistinctæ–¹æ³•æ˜¯ä¾èµ–Objectçš„equalsæ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ç›¸åŒå¯¹è±¡çš„ã€‚æ‰€ä»¥éœ€è¦æ³¨æ„é‡å†™equalsæ–¹æ³•ã€‚\nsorted â€‹\tå¯ä»¥å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚\nä¾‹å¦‚ï¼š\nâ€‹\tå¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ã€‚\nList\u003cAuthor\u003e authors = getAuthors(); // å¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ã€‚ authors.stream() .distinct() .sorted() .forEach(author -\u003e System.out.println(author.getAge())); List\u003cAuthor\u003e authors = getAuthors(); // å¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ã€‚ authors.stream() .distinct() .sorted((o1, o2) -\u003e o2.getAge()-o1.getAge()) .forEach(author -\u003e System.out.println(author.getAge())); æ³¨æ„ï¼šå¦‚æœè°ƒç”¨ç©ºå‚çš„sorted()æ–¹æ³•ï¼Œéœ€è¦æµä¸­çš„å…ƒç´ æ˜¯å®ç°äº†Comparableã€‚\nâ€‹\nlimit â€‹\tå¯ä»¥è®¾ç½®æµçš„æœ€å¤§é•¿åº¦ï¼Œè¶…å‡ºçš„éƒ¨åˆ†å°†è¢«æŠ›å¼ƒã€‚\nä¾‹å¦‚ï¼š\nâ€‹\tå¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ,ç„¶åæ‰“å°å…¶ä¸­å¹´é¾„æœ€å¤§çš„ä¸¤ä¸ªä½œå®¶çš„å§“åã€‚\nList\u003cAuthor\u003e authors = getAuthors(); authors.stream() .distinct() .sorted() .limit(2) .forEach(author -\u003e System.out.println(author.getName())); skip â€‹\tè·³è¿‡æµä¸­çš„å‰nä¸ªå…ƒç´ ï¼Œè¿”å›å‰©ä¸‹çš„å…ƒç´ \nä¾‹å¦‚ï¼š\nâ€‹\tæ‰“å°é™¤äº†å¹´é¾„æœ€å¤§çš„ä½œå®¶å¤–çš„å…¶ä»–ä½œå®¶ï¼Œè¦æ±‚ä¸èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œå¹¶ä¸”æŒ‰ç…§å¹´é¾„é™åºæ’åºã€‚\n// æ‰“å°é™¤äº†å¹´é¾„æœ€å¤§çš„ä½œå®¶å¤–çš„å…¶ä»–ä½œå®¶ï¼Œè¦æ±‚ä¸èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œå¹¶ä¸”æŒ‰ç…§å¹´é¾„é™åºæ’åºã€‚ List\u003cAuthor\u003e authors = getAuthors(); authors.stream() .distinct() .sorted() .skip(1) .forEach(author -\u003e System.out.println(author.getName())); flatMap â€‹\tmapåªèƒ½æŠŠä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆå¦ä¸€ä¸ªå¯¹è±¡æ¥ä½œä¸ºæµä¸­çš„å…ƒç´ ã€‚è€ŒflatMapå¯ä»¥æŠŠä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆå¤šä¸ªå¯¹è±¡ä½œä¸ºæµä¸­çš„å…ƒç´ ã€‚\nä¾‹ä¸€ï¼š\nâ€‹\tæ‰“å°æ‰€æœ‰ä¹¦ç±çš„åå­—ã€‚è¦æ±‚å¯¹é‡å¤çš„å…ƒç´ è¿›è¡Œå»é‡ã€‚\n// æ‰“å°æ‰€æœ‰ä¹¦ç±çš„åå­—ã€‚è¦æ±‚å¯¹é‡å¤çš„å…ƒç´ è¿›è¡Œå»é‡ã€‚ List\u003cAuthor\u003e authors = getAuthors(); authors.stream() .flatMap(author -\u003e author.getBooks().stream()) .distinct() .forEach(book -\u003e System.out.println(book.getName())); ä¾‹äºŒï¼š\nâ€‹\tæ‰“å°ç°æœ‰æ•°æ®çš„æ‰€æœ‰åˆ†ç±»ã€‚è¦æ±‚å¯¹åˆ†ç±»è¿›è¡Œå»é‡ã€‚ä¸èƒ½å‡ºç°è¿™ç§æ ¼å¼ï¼šå“²å­¦,çˆ±æƒ…\n// æ‰“å°ç°æœ‰æ•°æ®çš„æ‰€æœ‰åˆ†ç±»ã€‚è¦æ±‚å¯¹åˆ†ç±»è¿›è¡Œå»é‡ã€‚ä¸èƒ½å‡ºç°è¿™ç§æ ¼å¼ï¼šå“²å­¦,çˆ±æƒ… çˆ±æƒ… List\u003cAuthor\u003e authors = getAuthors(); authors.stream() .flatMap(author -\u003e author.getBooks().stream()) .distinct() .flatMap(book -\u003e Arrays.stream(book.getCategory().split(\",\"))) .distinct() .forEach(category-\u003e System.out.println(category)); 3.4.3 ç»ˆç»“æ“ä½œ forEach â€‹\tå¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œéå†æ“ä½œï¼Œæˆ‘ä»¬é€šè¿‡ä¼ å…¥çš„å‚æ•°å»æŒ‡å®šå¯¹éå†åˆ°çš„å…ƒç´ è¿›è¡Œä»€ä¹ˆå…·ä½“æ“ä½œã€‚\nä¾‹å­ï¼š\nâ€‹\tè¾“å‡ºæ‰€æœ‰ä½œå®¶çš„åå­—\n// è¾“å‡ºæ‰€æœ‰ä½œå®¶çš„åå­— List\u003cAuthor\u003e authors = getAuthors(); authors.stream() .map(author -\u003e author.getName()) .distinct() .forEach(name-\u003e System.out.println(name)); count â€‹\tå¯ä»¥ç”¨æ¥è·å–å½“å‰æµä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚\nä¾‹å­ï¼š\nâ€‹\tæ‰“å°è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æ•°ç›®ï¼Œæ³¨æ„åˆ é™¤é‡å¤å…ƒç´ ã€‚\n// æ‰“å°è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æ•°ç›®ï¼Œæ³¨æ„åˆ é™¤é‡å¤å…ƒç´ ã€‚ List\u003cAuthor\u003e authors = getAuthors(); long count = authors.stream() .flatMap(author -\u003e author.getBooks().stream()) .distinct() .count(); System.out.println(count); max\u0026min â€‹\tå¯ä»¥ç”¨æ¥æˆ–è€…æµä¸­çš„æœ€å€¼ã€‚\nä¾‹å­ï¼š\nâ€‹\tåˆ†åˆ«è·å–è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æœ€é«˜åˆ†å’Œæœ€ä½åˆ†å¹¶æ‰“å°ã€‚\n// åˆ†åˆ«è·å–è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æœ€é«˜åˆ†å’Œæœ€ä½åˆ†å¹¶æ‰“å°ã€‚ //Stream -\u003e Stream -\u003eStream -\u003eæ±‚å€¼ List\u003cAuthor\u003e authors = getAuthors(); Optional\u003cInteger\u003e max = authors.stream() .flatMap(author -\u003e author.getBooks().stream()) .map(book -\u003e book.getScore()) .max((score1, score2) -\u003e score1 - score2); Optional\u003cInteger\u003e min = authors.stream() .flatMap(author -\u003e author.getBooks().stream()) .map(book -\u003e book.getScore()) .min((score1, score2) -\u003e score1 - score2); System.out.println(max.get()); System.out.println(min.get()); collect â€‹\tæŠŠå½“å‰æµè½¬æ¢æˆä¸€ä¸ªé›†åˆã€‚\nä¾‹å­ï¼š\nâ€‹\tè·å–ä¸€ä¸ªå­˜æ”¾æ‰€æœ‰ä½œè€…åå­—çš„Listé›†åˆã€‚\n// è·å–ä¸€ä¸ªå­˜æ”¾æ‰€æœ‰ä½œè€…åå­—çš„Listé›†åˆã€‚ List\u003cAuthor\u003e authors = getAuthors(); List\u003cString\u003e nameList = authors.stream() .map(author -\u003e author.getName()) .collect(Collectors.toList()); System.out.println(nameList); â€‹\tè·å–ä¸€ä¸ªæ‰€æœ‰ä¹¦åçš„Seté›†åˆã€‚\n// è·å–ä¸€ä¸ªæ‰€æœ‰ä¹¦åçš„Seté›†åˆã€‚ List\u003cAuthor\u003e authors = getAuthors(); Set\u003cBook\u003e books = authors.stream() .flatMap(author -\u003e author.getBooks().stream()) .collect(Collectors.toSet()); System.out.println(books); â€‹\tè·å–ä¸€ä¸ªMapé›†åˆï¼Œmapçš„keyä¸ºä½œè€…åï¼Œvalueä¸ºList\n// è·å–ä¸€ä¸ªMapé›†åˆï¼Œmapçš„keyä¸ºä½œè€…åï¼Œvalueä¸ºList List\u003cAuthor\u003e authors = getAuthors(); Map\u003cString, List\u003cBook\u003e\u003e map = authors.stream() .distinct() .collect(Collectors.toMap(author -\u003e author.getName(), author -\u003e author.getBooks())); System.out.println(map); æŸ¥æ‰¾ä¸åŒ¹é… anyMatch â€‹\tå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯å¦æœ‰ä»»æ„ç¬¦åˆåŒ¹é…æ¡ä»¶çš„å…ƒç´ ï¼Œç»“æœä¸ºbooleanç±»å‹ã€‚\nä¾‹å­ï¼š\nâ€‹\tåˆ¤æ–­æ˜¯å¦æœ‰å¹´é¾„åœ¨29ä»¥ä¸Šçš„ä½œå®¶\n// åˆ¤æ–­æ˜¯å¦æœ‰å¹´é¾„åœ¨29ä»¥ä¸Šçš„ä½œå®¶ List\u003cAuthor\u003e authors = getAuthors(); boolean flag = authors.stream() .anyMatch(author -\u003e author.getAge() \u003e 29); System.out.println(flag); allMatch â€‹\tå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯å¦éƒ½ç¬¦åˆåŒ¹é…æ¡ä»¶ï¼Œç»“æœä¸ºbooleanç±»å‹ã€‚å¦‚æœéƒ½ç¬¦åˆç»“æœä¸ºtrueï¼Œå¦åˆ™ç»“æœä¸ºfalseã€‚\nä¾‹å­ï¼š\nâ€‹\tåˆ¤æ–­æ˜¯å¦æ‰€æœ‰çš„ä½œå®¶éƒ½æ˜¯æˆå¹´äºº\n// åˆ¤æ–­æ˜¯å¦æ‰€æœ‰çš„ä½œå®¶éƒ½æ˜¯æˆå¹´äºº List\u003cAuthor\u003e authors = getAuthors(); boolean flag = authors.stream() .allMatch(author -\u003e author.getAge() \u003e= 18); System.out.println(flag); noneMatch â€‹\tå¯ä»¥åˆ¤æ–­æµä¸­çš„å…ƒç´ æ˜¯å¦éƒ½ä¸ç¬¦åˆåŒ¹é…æ¡ä»¶ã€‚å¦‚æœéƒ½ä¸ç¬¦åˆç»“æœä¸ºtrueï¼Œå¦åˆ™ç»“æœä¸ºfalse\nä¾‹å­ï¼š\nâ€‹\tåˆ¤æ–­ä½œå®¶æ˜¯å¦éƒ½æ²¡æœ‰è¶…è¿‡100å²çš„ã€‚\n// åˆ¤æ–­ä½œå®¶æ˜¯å¦éƒ½æ²¡æœ‰è¶…è¿‡100å²çš„ã€‚ List\u003cAuthor\u003e authors = getAuthors(); boolean b = authors.stream() .noneMatch(author -\u003e author.getAge() \u003e 100); System.out.println(b); findAny â€‹\tè·å–æµä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ ã€‚è¯¥æ–¹æ³•æ²¡æœ‰åŠæ³•ä¿è¯è·å–çš„ä¸€å®šæ˜¯æµä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚\nä¾‹å­ï¼š\nâ€‹\tè·å–ä»»æ„ä¸€ä¸ªå¹´é¾„å¤§äº18çš„ä½œå®¶ï¼Œå¦‚æœå­˜åœ¨å°±è¾“å‡ºä»–çš„åå­—\n// è·å–ä»»æ„ä¸€ä¸ªå¹´é¾„å¤§äº18çš„ä½œå®¶ï¼Œå¦‚æœå­˜åœ¨å°±è¾“å‡ºä»–çš„åå­— List\u003cAuthor\u003e authors = getAuthors(); Optional\u003cAuthor\u003e optionalAuthor = authors.stream() .filter(author -\u003e author.getAge()\u003e18) .findAny(); optionalAuthor.ifPresent(author -\u003e System.out.println(author.getName())); findFirst â€‹\tè·å–æµä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚\nä¾‹å­ï¼š\nâ€‹\tè·å–ä¸€ä¸ªå¹´é¾„æœ€å°çš„ä½œå®¶ï¼Œå¹¶è¾“å‡ºä»–çš„å§“åã€‚\n// è·å–ä¸€ä¸ªå¹´é¾„æœ€å°çš„ä½œå®¶ï¼Œå¹¶è¾“å‡ºä»–çš„å§“åã€‚ List\u003cAuthor\u003e authors = getAuthors(); Optional\u003cAuthor\u003e first = authors.stream() .sorted((o1, o2) -\u003e o1.getAge() - o2.getAge()) .findFirst(); first.ifPresent(author -\u003e System.out.println(author.getName())); reduceå½’å¹¶ â€‹\tå¯¹æµä¸­çš„æ•°æ®æŒ‰ç…§ä½ æŒ‡å®šçš„è®¡ç®—æ–¹å¼è®¡ç®—å‡ºä¸€ä¸ªç»“æœã€‚ï¼ˆç¼©å‡æ“ä½œï¼‰\nâ€‹\treduceçš„ä½œç”¨æ˜¯æŠŠstreamä¸­çš„å…ƒç´ ç»™ç»„åˆèµ·æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ï¼Œå®ƒä¼šæŒ‰ç…§æˆ‘ä»¬çš„è®¡ç®—æ–¹å¼ä¾æ¬¡æ‹¿æµä¸­çš„å…ƒç´ å’Œåˆå§‹åŒ–å€¼è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—ç»“æœå†å’Œåé¢çš„å…ƒç´ è®¡ç®—ã€‚\nâ€‹\treduceä¸¤ä¸ªå‚æ•°çš„é‡è½½å½¢å¼å†…éƒ¨çš„è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š\nT result = identity; for (T element : this stream) result = accumulator.apply(result, element) return result; â€‹\tå…¶ä¸­identityå°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ–¹æ³•å‚æ•°ä¼ å…¥çš„åˆå§‹å€¼ï¼Œaccumulatorçš„applyå…·ä½“è¿›è¡Œä»€ä¹ˆè®¡ç®—ä¹Ÿæ˜¯æˆ‘ä»¬é€šè¿‡æ–¹æ³•å‚æ•°æ¥ç¡®å®šçš„ã€‚\nä¾‹å­ï¼š\nâ€‹\tä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…å¹´é¾„çš„å’Œ\n// ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…å¹´é¾„çš„å’Œ List\u003cAuthor\u003e authors = getAuthors(); Integer sum = authors.stream() .distinct() .map(author -\u003e author.getAge()) .reduce(0, (result, element) -\u003e result + element); System.out.println(sum); â€‹\tä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å¤§å€¼\n// ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å¤§å€¼ List\u003cAuthor\u003e authors = getAuthors(); Integer max = authors.stream() .map(author -\u003e author.getAge()) .reduce(Integer.MIN_VALUE, (result, element) -\u003e result \u003c element ? element : result); System.out.println(max); â€‹\tä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å°å€¼\n// ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å°å€¼ List\u003cAuthor\u003e authors = getAuthors(); Integer min = authors.stream() .map(author -\u003e author.getAge()) .reduce(Integer.MAX_VALUE, (result, element) -\u003e result \u003e element ? element : result); System.out.println(min); â€‹\treduceä¸€ä¸ªå‚æ•°çš„é‡è½½å½¢å¼å†…éƒ¨çš„è®¡ç®—\nboolean foundAny = false; T result = null; for (T element : this stream) { if (!foundAny) { foundAny = true; result = element; } else result = accumulator.apply(result, element); } return foundAny ? Optional.of(result) : Optional.empty(); â€‹\tå¦‚æœç”¨ä¸€ä¸ªå‚æ•°çš„é‡è½½æ–¹æ³•å»æ±‚æœ€å°å€¼ä»£ç å¦‚ä¸‹ï¼š\n// ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å°å€¼ List\u003cAuthor\u003e authors = getAuthors(); Optional\u003cInteger\u003e minOptional = authors.stream() .map(author -\u003e author.getAge()) .reduce((result, element) -\u003e result \u003e element ? element : result); minOptional.ifPresent(age-\u003e System.out.println(age)); 3.5 æ³¨æ„äº‹é¡¹ æƒ°æ€§æ±‚å€¼ï¼ˆå¦‚æœæ²¡æœ‰ç»ˆç»“æ“ä½œï¼Œæ²¡æœ‰ä¸­é—´æ“ä½œæ˜¯ä¸ä¼šå¾—åˆ°æ‰§è¡Œçš„ï¼‰ æµæ˜¯ä¸€æ¬¡æ€§çš„ï¼ˆä¸€æ—¦ä¸€ä¸ªæµå¯¹è±¡ç»è¿‡ä¸€ä¸ªç»ˆç»“æ“ä½œåã€‚è¿™ä¸ªæµå°±ä¸èƒ½å†è¢«ä½¿ç”¨ï¼‰ ä¸ä¼šå½±å“åŸæ•°æ®ï¼ˆæˆ‘ä»¬åœ¨æµä¸­å¯ä»¥å¤šæ•°æ®åšå¾ˆå¤šå¤„ç†ã€‚ä½†æ˜¯æ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¸ä¼šå½±å“åŸæ¥é›†åˆä¸­çš„å…ƒç´ çš„ã€‚è¿™å¾€å¾€ä¹Ÿæ˜¯æˆ‘ä»¬æœŸæœ›çš„ï¼‰ 4. Optional 4.1 æ¦‚è¿° â€‹\tæˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™å‡ºç°æœ€å¤šçš„å°±æ˜¯ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚æ‰€ä»¥åœ¨å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦åšå„ç§éç©ºçš„åˆ¤æ–­ã€‚\nâ€‹\tä¾‹å¦‚ï¼š\nAuthor author = getAuthor(); if(author!=null){ System.out.println(author.getName()); } â€‹\tå°¤å…¶æ˜¯å¯¹è±¡ä¸­çš„å±æ€§è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æƒ…å†µä¸‹ã€‚è¿™ç§åˆ¤æ–­ä¼šæ›´å¤šã€‚\nâ€‹\tè€Œè¿‡å¤šçš„åˆ¤æ–­è¯­å¥ä¼šè®©æˆ‘ä»¬çš„ä»£ç æ˜¾å¾—è‡ƒè‚¿ä¸å ªã€‚\nâ€‹\tæ‰€ä»¥åœ¨JDK8ä¸­å¼•å…¥äº†Optional,å…»æˆä½¿ç”¨Optionalçš„ä¹ æƒ¯åä½ å¯ä»¥å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç æ¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚\nâ€‹\tå¹¶ä¸”åœ¨å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹ç›¸å…³çš„APIä¸­ä¹Ÿéƒ½ç”¨åˆ°äº†Optionalï¼Œå¦‚æœä¸ä¼šä½¿ç”¨Optionalä¹Ÿä¼šå¯¹å‡½æ•°å¼ç¼–ç¨‹çš„å­¦ä¹ é€ æˆå½±å“ã€‚\n4.2 ä½¿ç”¨ 4.2.1 åˆ›å»ºå¯¹è±¡ â€‹\tOptionalå°±å¥½åƒæ˜¯åŒ…è£…ç±»ï¼Œå¯ä»¥æŠŠæˆ‘ä»¬çš„å…·ä½“æ•°æ®å°è£…Optionalå¯¹è±¡å†…éƒ¨ã€‚ç„¶åæˆ‘ä»¬å»ä½¿ç”¨Optionalä¸­å°è£…å¥½çš„æ–¹æ³•æ“ä½œå°è£…è¿›å»çš„æ•°æ®å°±å¯ä»¥éå¸¸ä¼˜é›…çš„é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚\nâ€‹\tæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨Optionalçš„é™æ€æ–¹æ³•ofNullableæ¥æŠŠæ•°æ®å°è£…æˆä¸€ä¸ªOptionalå¯¹è±¡ã€‚æ— è®ºä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸ºnulléƒ½ä¸ä¼šå‡ºç°é—®é¢˜ã€‚\nAuthor author = getAuthor(); Optional\u003cAuthor\u003e authorOptional = Optional.ofNullable(author); â€‹\tä½ å¯èƒ½ä¼šè§‰å¾—è¿˜è¦åŠ ä¸€è¡Œä»£ç æ¥å°è£…æ•°æ®æ¯”è¾ƒéº»çƒ¦ã€‚ä½†æ˜¯å¦‚æœæ”¹é€ ä¸‹getAuthoræ–¹æ³•ï¼Œè®©å…¶çš„è¿”å›å€¼å°±æ˜¯å°è£…å¥½çš„Optionalçš„è¯ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å°±ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚\nâ€‹\tè€Œä¸”åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬çš„æ•°æ®å¾ˆå¤šæ˜¯ä»æ•°æ®åº“è·å–çš„ã€‚Mybatisä»3.5ç‰ˆæœ¬å¯ä»¥ä¹Ÿå·²ç»æ”¯æŒOptionaläº†ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠdaoæ–¹æ³•çš„è¿”å›å€¼ç±»å‹å®šä¹‰æˆOptionalç±»å‹ï¼ŒMyBastisä¼šè‡ªå·±æŠŠæ•°æ®å°è£…æˆOptionalå¯¹è±¡è¿”å›ã€‚å°è£…çš„è¿‡ç¨‹ä¹Ÿä¸éœ€è¦æˆ‘ä»¬è‡ªå·±æ“ä½œã€‚\nâ€‹\tå¦‚æœä½ ç¡®å®šä¸€ä¸ªå¯¹è±¡ä¸æ˜¯ç©ºçš„åˆ™å¯ä»¥ä½¿ç”¨Optionalçš„é™æ€æ–¹æ³•ofæ¥æŠŠæ•°æ®å°è£…æˆOptionalå¯¹è±¡ã€‚\nAuthor author = new Author(); Optional\u003cAuthor\u003e authorOptional = Optional.of(author); â€‹\tä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨ofçš„æ—¶å€™ä¼ å…¥çš„å‚æ•°å¿…é¡»ä¸ä¸ºnullã€‚ï¼ˆå°è¯•ä¸‹ä¼ å…¥nullä¼šå‡ºç°ä»€ä¹ˆç»“æœï¼‰\nâ€‹\tå¦‚æœä¸€ä¸ªæ–¹æ³•çš„è¿”å›å€¼ç±»å‹æ˜¯Optionalç±»å‹ã€‚è€Œå¦‚æœæˆ‘ä»¬ç»åˆ¤æ–­å‘ç°æŸæ¬¡è®¡ç®—å¾—åˆ°çš„è¿”å›å€¼ä¸ºnullï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æŠŠnullå°è£…æˆOptionalå¯¹è±¡è¿”å›ã€‚è¿™æ—¶åˆ™å¯ä»¥ä½¿ç”¨Optionalçš„é™æ€æ–¹æ³•emptyæ¥è¿›è¡Œå°è£…ã€‚\nOptional.empty() â€‹\nâ€‹\tæ‰€ä»¥æœ€åä½ è§‰å¾—å“ªç§æ–¹å¼ä¼šæ›´æ–¹ä¾¿å‘¢ï¼ŸofNullable\n4.2.2 å®‰å…¨æ¶ˆè´¹å€¼ â€‹\tæˆ‘ä»¬è·å–åˆ°ä¸€ä¸ªOptionalå¯¹è±¡åè‚¯å®šéœ€è¦å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œä½¿ç”¨ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶ifPresentæ–¹æ³•å¯¹æ¥æ¶ˆè´¹å…¶ä¸­çš„å€¼ã€‚\nâ€‹\tè¿™ä¸ªæ–¹æ³•ä¼šåˆ¤æ–­å…¶å†…å°è£…çš„æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºæ—¶æ‰ä¼šæ‰§è¡Œå…·ä½“çš„æ¶ˆè´¹ä»£ç ã€‚è¿™æ ·ä½¿ç”¨èµ·æ¥å°±æ›´åŠ å®‰å…¨äº†ã€‚\nâ€‹\tä¾‹å¦‚,ä»¥ä¸‹å†™æ³•å°±ä¼˜é›…çš„é¿å…äº†ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚\nOptional\u003cAuthor\u003e authorOptional = Optional.ofNullable(getAuthor()); authorOptional.ifPresent(author -\u003e System.out.println(author.getName())); 4.2.3 è·å–å€¼ â€‹\tå¦‚æœæˆ‘ä»¬æƒ³è·å–å€¼è‡ªå·±è¿›è¡Œå¤„ç†å¯ä»¥ä½¿ç”¨getæ–¹æ³•è·å–ï¼Œä½†æ˜¯ä¸æ¨èã€‚å› ä¸ºå½“Optionalå†…éƒ¨çš„æ•°æ®ä¸ºç©ºçš„æ—¶å€™ä¼šå‡ºç°å¼‚å¸¸ã€‚\n4.2.4 å®‰å…¨è·å–å€¼ â€‹\tå¦‚æœæˆ‘ä»¬æœŸæœ›å®‰å…¨çš„è·å–å€¼ã€‚æˆ‘ä»¬ä¸æ¨èä½¿ç”¨getæ–¹æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨Optionalæä¾›çš„ä»¥ä¸‹æ–¹æ³•ã€‚\norElseGet\nè·å–æ•°æ®å¹¶ä¸”è®¾ç½®æ•°æ®ä¸ºç©ºæ—¶çš„é»˜è®¤å€¼ã€‚å¦‚æœæ•°æ®ä¸ä¸ºç©ºå°±èƒ½è·å–åˆ°è¯¥æ•°æ®ã€‚å¦‚æœä¸ºç©ºåˆ™æ ¹æ®ä½ ä¼ å…¥çš„å‚æ•°æ¥åˆ›å»ºå¯¹è±¡ä½œä¸ºé»˜è®¤å€¼è¿”å›ã€‚\nOptional\u003cAuthor\u003e authorOptional = Optional.ofNullable(getAuthor()); Author author1 = authorOptional.orElseGet(() -\u003e new Author()); orElseThrow\nè·å–æ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸ä¸ºç©ºå°±èƒ½è·å–åˆ°è¯¥æ•°æ®ã€‚å¦‚æœä¸ºç©ºåˆ™æ ¹æ®ä½ ä¼ å…¥çš„å‚æ•°æ¥åˆ›å»ºå¼‚å¸¸æŠ›å‡ºã€‚\nOptional\u003cAuthor\u003e authorOptional = Optional.ofNullable(getAuthor()); try { Author author = authorOptional.orElseThrow((Supplier\u003cThrowable\u003e) () -\u003e new RuntimeException(\"authorä¸ºç©º\")); System.out.println(author.getName()); } catch (Throwable throwable) { throwable.printStackTrace(); } 4.2.5 è¿‡æ»¤ â€‹\tæˆ‘ä»¬å¯ä»¥ä½¿ç”¨filteræ–¹æ³•å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚å¦‚æœåŸæœ¬æ˜¯æœ‰æ•°æ®çš„ï¼Œä½†æ˜¯ä¸ç¬¦åˆåˆ¤æ–­ï¼Œä¹Ÿä¼šå˜æˆä¸€ä¸ªæ— æ•°æ®çš„Optionalå¯¹è±¡ã€‚\nOptional\u003cAuthor\u003e authorOptional = Optional.ofNullable(getAuthor()); authorOptional.filter(author -\u003e author.getAge()\u003e100).ifPresent(author -\u003e System.out.println(author.getName())); 4.2.6 åˆ¤æ–­ â€‹\tæˆ‘ä»¬å¯ä»¥ä½¿ç”¨isPresentæ–¹æ³•è¿›è¡Œæ˜¯å¦å­˜åœ¨æ•°æ®çš„åˆ¤æ–­ã€‚å¦‚æœä¸ºç©ºè¿”å›å€¼ä¸ºfalse,å¦‚æœä¸ä¸ºç©ºï¼Œè¿”å›å€¼ä¸ºtrueã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å¹¶ä¸èƒ½ä½“ç°Optionalçš„å¥½å¤„ï¼Œæ›´æ¨èä½¿ç”¨ifPresentæ–¹æ³•ã€‚\nOptional\u003cAuthor\u003e authorOptional = Optional.ofNullable(getAuthor()); if (authorOptional.isPresent()) { System.out.println(authorOptional.get().getName()); } 4.2.7 æ•°æ®è½¬æ¢ â€‹\tOptionalè¿˜æä¾›äº†mapå¯ä»¥è®©æˆ‘ä»¬çš„å¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¹¶ä¸”è½¬æ¢å¾—åˆ°çš„æ•°æ®ä¹Ÿè¿˜æ˜¯è¢«OptionalåŒ…è£…å¥½çš„ï¼Œä¿è¯äº†æˆ‘ä»¬çš„ä½¿ç”¨å®‰å…¨ã€‚\nä¾‹å¦‚æˆ‘ä»¬æƒ³è·å–ä½œå®¶çš„ä¹¦ç±é›†åˆã€‚\nprivate static void testMap() { Optional\u003cAuthor\u003e authorOptional = getAuthorOptional(); Optional\u003cList\u003cBook\u003e\u003e optionalBooks = authorOptional.map(author -\u003e author.getBooks()); optionalBooks.ifPresent(books -\u003e System.out.println(books)); } 5. å‡½æ•°å¼æ¥å£ 5.1 æ¦‚è¿° â€‹\tåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£æˆ‘ä»¬ç§°ä¹‹ä¸ºå‡½æ•°æ¥å£ã€‚\nâ€‹\tJDKçš„å‡½æ•°å¼æ¥å£éƒ½åŠ ä¸Šäº†**@FunctionalInterface** æ³¨è§£è¿›è¡Œæ ‡è¯†ã€‚ä½†æ˜¯æ— è®ºæ˜¯å¦åŠ ä¸Šè¯¥æ³¨è§£åªè¦æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œéƒ½æ˜¯å‡½æ•°å¼æ¥å£ã€‚\n5.2 å¸¸è§å‡½æ•°å¼æ¥å£ â€‹\tConsumer æ¶ˆè´¹æ¥å£\næ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œæ¶ˆè´¹ã€‚\nâ€‹\tFunction è®¡ç®—è½¬æ¢æ¥å£\næ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­å¯¹ä¼ å…¥çš„å‚æ•°è®¡ç®—æˆ–è½¬æ¢ï¼ŒæŠŠç»“æœè¿”å›\nâ€‹\tPredicate åˆ¤æ–­æ¥å£\næ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­å¯¹ä¼ å…¥çš„å‚æ•°æ¡ä»¶åˆ¤æ–­ï¼Œè¿”å›åˆ¤æ–­ç»“æœ\nâ€‹\tSupplier ç”Ÿäº§å‹æ¥å£\næ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­åˆ›å»ºå¯¹è±¡ï¼ŒæŠŠåˆ›å»ºå¥½çš„å¯¹è±¡è¿”å›\n5.3 å¸¸ç”¨çš„é»˜è®¤æ–¹æ³• and\næˆ‘ä»¬åœ¨ä½¿ç”¨Predicateæ¥å£æ—¶å€™å¯èƒ½éœ€è¦è¿›è¡Œåˆ¤æ–­æ¡ä»¶çš„æ‹¼æ¥ã€‚è€Œandæ–¹æ³•ç›¸å½“äºæ˜¯ä½¿ç”¨\u0026\u0026æ¥æ‹¼æ¥ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶\nä¾‹å¦‚ï¼š\næ‰“å°ä½œå®¶ä¸­å¹´é¾„å¤§äº17å¹¶ä¸”å§“åçš„é•¿åº¦å¤§äº1çš„ä½œå®¶ã€‚\nList\u003cAuthor\u003e authors = getAuthors(); Stream\u003cAuthor\u003e authorStream = authors.stream(); authorStream.filter(new Predicate\u003cAuthor\u003e() { @Override public boolean test(Author author) { return author.getAge()\u003e17; } }.and(new Predicate\u003cAuthor\u003e() { @Override public boolean test(Author author) { return author.getName().length()\u003e1; } })).forEach(author -\u003e System.out.println(author)); or\næˆ‘ä»¬åœ¨ä½¿ç”¨Predicateæ¥å£æ—¶å€™å¯èƒ½éœ€è¦è¿›è¡Œåˆ¤æ–­æ¡ä»¶çš„æ‹¼æ¥ã€‚è€Œoræ–¹æ³•ç›¸å½“äºæ˜¯ä½¿ç”¨||æ¥æ‹¼æ¥ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶ã€‚\nä¾‹å¦‚ï¼š\næ‰“å°ä½œå®¶ä¸­å¹´é¾„å¤§äº17æˆ–è€…å§“åçš„é•¿åº¦å°äº2çš„ä½œå®¶ã€‚\n// æ‰“å°ä½œå®¶ä¸­å¹´é¾„å¤§äº17æˆ–è€…å§“åçš„é•¿åº¦å°äº2çš„ä½œå®¶ã€‚ List\u003cAuthor\u003e authors = getAuthors(); authors.stream() .filter(new Predicate\u003cAuthor\u003e() { @Override public boolean test(Author author) { return author.getAge()\u003e17; } }.or(new Predicate\u003cAuthor\u003e() { @Override public boolean test(Author author) { return author.getName().length()\u003c2; } })).forEach(author -\u003e System.out.println(author.getName())); negate\nPredicateæ¥å£ä¸­çš„æ–¹æ³•ã€‚negateæ–¹æ³•ç›¸å½“äºæ˜¯åœ¨åˆ¤æ–­æ·»åŠ å‰é¢åŠ äº†ä¸ª! è¡¨ç¤ºå–å\nä¾‹å¦‚ï¼š\næ‰“å°ä½œå®¶ä¸­å¹´é¾„ä¸å¤§äº17çš„ä½œå®¶ã€‚\n// æ‰“å°ä½œå®¶ä¸­å¹´é¾„ä¸å¤§äº17çš„ä½œå®¶ã€‚ List\u003cAuthor\u003e authors = getAuthors(); authors.stream() .filter(new Predicate\u003cAuthor\u003e() { @Override public boolean test(Author author) { return author.getAge()\u003e17; } }.negate()).forEach(author -\u003e System.out.println(author.getAge())); 6. æ–¹æ³•å¼•ç”¨ â€‹\tæˆ‘ä»¬åœ¨ä½¿ç”¨lambdaæ—¶ï¼Œå¦‚æœæ–¹æ³•ä½“ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨çš„è¯ï¼ˆåŒ…æ‹¬æ„é€ æ–¹æ³•ï¼‰,æˆ‘ä»¬å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨è¿›ä¸€æ­¥ç®€åŒ–ä»£ç ã€‚\n6.1 æ¨èç”¨æ³• â€‹\tæˆ‘ä»¬åœ¨ä½¿ç”¨lambdaæ—¶ä¸éœ€è¦è€ƒè™‘ä»€ä¹ˆæ—¶å€™ç”¨æ–¹æ³•å¼•ç”¨ï¼Œç”¨å“ªç§æ–¹æ³•å¼•ç”¨ï¼Œæ–¹æ³•å¼•ç”¨çš„æ ¼å¼æ˜¯ä»€ä¹ˆã€‚æˆ‘ä»¬åªéœ€è¦åœ¨å†™å®Œlambdaæ–¹æ³•å‘ç°æ–¹æ³•ä½“åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¹¶ä¸”æ˜¯æ–¹æ³•çš„è°ƒç”¨æ—¶ä½¿ç”¨å¿«æ·é”®å°è¯•æ˜¯å¦èƒ½å¤Ÿè½¬æ¢æˆæ–¹æ³•å¼•ç”¨å³å¯ã€‚\nâ€‹\tå½“æˆ‘ä»¬æ–¹æ³•å¼•ç”¨ä½¿ç”¨çš„å¤šäº†æ…¢æ…¢çš„ä¹Ÿå¯ä»¥ç›´æ¥å†™å‡ºæ–¹æ³•å¼•ç”¨ã€‚\n6.2 åŸºæœ¬æ ¼å¼ â€‹\tç±»åæˆ–è€…å¯¹è±¡å::æ–¹æ³•å\n6.3 è¯­æ³•è¯¦è§£(äº†è§£) 6.3.1 å¼•ç”¨ç±»çš„é™æ€æ–¹æ³• â€‹\tå…¶å®å°±æ˜¯å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•\næ ¼å¼ ç±»å::æ–¹æ³•å ä½¿ç”¨å‰æ â€‹\tå¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯è°ƒç”¨äº†æŸä¸ªç±»çš„é™æ€æ–¹æ³•ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠè¦é‡å†™çš„æŠ½è±¡æ–¹æ³•ä¸­æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªé™æ€æ–¹æ³•ä¸­ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•ã€‚\nâ€‹\nä¾‹å¦‚ï¼š\nå¦‚ä¸‹ä»£ç å°±å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨è¿›è¡Œç®€åŒ–\nList\u003cAuthor\u003e authors = getAuthors(); Stream\u003cAuthor\u003e authorStream = authors.stream(); authorStream.map(author -\u003e author.getAge()) .map(age-\u003eString.valueOf(age)); æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬æ‰€é‡å†™çš„æ–¹æ³•æ˜¯æ²¡æœ‰å‚æ•°çš„ï¼Œè°ƒç”¨çš„æ–¹æ³•ä¹Ÿæ˜¯æ²¡æœ‰å‚æ•°çš„ä¹Ÿç›¸å½“äºç¬¦åˆä»¥ä¸Šè§„åˆ™ã€‚\nä¼˜åŒ–åå¦‚ä¸‹ï¼š\nList\u003cAuthor\u003e authors = getAuthors(); Stream\u003cAuthor\u003e authorStream = authors.stream(); authorStream.map(author -\u003e author.getAge()) .map(String::valueOf); 6.3.2 å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³• æ ¼å¼ å¯¹è±¡å::æ–¹æ³•å ä½¿ç”¨å‰æ â€‹\tå¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯è°ƒç”¨äº†æŸä¸ªå¯¹è±¡çš„æˆå‘˜æ–¹æ³•ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠè¦é‡å†™çš„æŠ½è±¡æ–¹æ³•ä¸­æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªæˆå‘˜æ–¹æ³•ä¸­ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•\nä¾‹å¦‚ï¼š\nList\u003cAuthor\u003e authors = getAuthors(); Stream\u003cAuthor\u003e authorStream = authors.stream(); StringBuilder sb = new StringBuilder(); authorStream.map(author -\u003e author.getName()) .forEach(name-\u003esb.append(name)); ä¼˜åŒ–åï¼š\nList\u003cAuthor\u003e authors = getAuthors(); Stream\u003cAuthor\u003e authorStream = authors.stream(); StringBuilder sb = new StringBuilder(); authorStream.map(author -\u003e author.getName()) .forEach(sb::append); 6.3.4 å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³• æ ¼å¼ ç±»å::æ–¹æ³•å ä½¿ç”¨å‰æ â€‹\tå¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯è°ƒç”¨äº†ç¬¬ä¸€ä¸ªå‚æ•°çš„æˆå‘˜æ–¹æ³•ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠè¦é‡å†™çš„æŠ½è±¡æ–¹æ³•ä¸­å‰©ä½™çš„æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªæˆå‘˜æ–¹æ³•ä¸­ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³•ã€‚\nä¾‹å¦‚ï¼š\ninterface UseString{ String use(String str,int start,int length); } public static String subAuthorName(String str, UseString useString){ int start = 0; int length = 1; return useString.use(str,start,length); } public static void main(String[] args) { subAuthorName(\"ä¸‰æ›´è‰å ‚\", new UseString() { @Override public String use(String str, int start, int length) { return str.substring(start,length); } }); } ä¼˜åŒ–åå¦‚ä¸‹ï¼š\npublic static void main(String[] args) { subAuthorName(\"ä¸‰æ›´è‰å ‚\", String::substring); } 6.3.5 æ„é€ å™¨å¼•ç”¨ â€‹\tå¦‚æœæ–¹æ³•ä½“ä¸­çš„ä¸€è¡Œä»£ç æ˜¯æ„é€ å™¨çš„è¯å°±å¯ä»¥ä½¿ç”¨æ„é€ å™¨å¼•ç”¨ã€‚\næ ¼å¼ ç±»å::new ä½¿ç”¨å‰æ â€‹\tå¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯è°ƒç”¨äº†æŸä¸ªç±»çš„æ„é€ æ–¹æ³•ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠè¦é‡å†™çš„æŠ½è±¡æ–¹æ³•ä¸­çš„æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªæ„é€ æ–¹æ³•ä¸­ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨æ„é€ å™¨ã€‚\nä¾‹å¦‚ï¼š\nList\u003cAuthor\u003e authors = getAuthors(); authors.stream() .map(author -\u003e author.getName()) .map(name-\u003enew StringBuilder(name)) .map(sb-\u003esb.append(\"-ä¸‰æ›´\").toString()) .forEach(str-\u003e System.out.println(str)); ä¼˜åŒ–åï¼š\nList\u003cAuthor\u003e authors = getAuthors(); authors.stream() .map(author -\u003e author.getName()) .map(StringBuilder::new) .map(sb-\u003esb.append(\"-ä¸‰æ›´\").toString()) .forEach(str-\u003e System.out.println(str)); 7. é«˜çº§ç”¨æ³• åŸºæœ¬æ•°æ®ç±»å‹ä¼˜åŒ– â€‹\tæˆ‘ä»¬ä¹‹å‰ç”¨åˆ°çš„å¾ˆå¤šStreamçš„æ–¹æ³•ç”±äºéƒ½ä½¿ç”¨äº†æ³›å‹ã€‚æ‰€ä»¥æ¶‰åŠåˆ°çš„å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚\nâ€‹\tå³ä½¿æˆ‘ä»¬æ“ä½œçš„æ˜¯æ•´æ•°å°æ•°ï¼Œä½†æ˜¯å®é™…ç”¨çš„éƒ½æ˜¯ä»–ä»¬çš„åŒ…è£…ç±»ã€‚JDK5ä¸­å¼•å…¥çš„è‡ªåŠ¨è£…ç®±å’Œè‡ªåŠ¨æ‹†ç®±è®©æˆ‘ä»¬åœ¨ä½¿ç”¨å¯¹åº”çš„åŒ…è£…ç±»æ—¶å°±å¥½åƒä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä¸€æ ·æ–¹ä¾¿ã€‚ä½†æ˜¯ä½ ä¸€å®šè¦çŸ¥é“è£…ç®±å’Œæ‹†ç®±è‚¯å®šæ˜¯è¦æ¶ˆè€—æ—¶é—´çš„ã€‚è™½ç„¶è¿™ä¸ªæ—¶é—´æ¶ˆè€—å¾ˆä¸‹ã€‚ä½†æ˜¯åœ¨å¤§é‡çš„æ•°æ®ä¸æ–­çš„é‡å¤è£…ç®±æ‹†ç®±çš„æ—¶å€™ï¼Œä½ å°±ä¸èƒ½æ— è§†è¿™ä¸ªæ—¶é—´æŸè€—äº†ã€‚\nâ€‹\tæ‰€ä»¥ä¸ºäº†è®©æˆ‘ä»¬èƒ½å¤Ÿå¯¹è¿™éƒ¨åˆ†çš„æ—¶é—´æ¶ˆè€—è¿›è¡Œä¼˜åŒ–ã€‚Streamè¿˜æä¾›äº†å¾ˆå¤šä¸“é—¨é’ˆå¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„æ–¹æ³•ã€‚\nâ€‹\tä¾‹å¦‚ï¼šmapToInt,mapToLong,mapToDouble,flatMapToInt,flatMapToDoubleç­‰ã€‚\nprivate static void test27() { List\u003cAuthor\u003e authors = getAuthors(); authors.stream() .map(author -\u003e author.getAge()) .map(age -\u003e age + 10) .filter(age-\u003eage\u003e18) .map(age-\u003eage+2) .forEach(System.out::println); authors.stream() .mapToInt(author -\u003e author.getAge()) .map(age -\u003e age + 10) .filter(age-\u003eage\u003e18) .map(age-\u003eage+2) .forEach(System.out::println); } å¹¶è¡Œæµ â€‹\tå½“æµä¸­æœ‰å¤§é‡å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¶è¡Œæµå»æé«˜æ“ä½œçš„æ•ˆç‡ã€‚å…¶å®å¹¶è¡Œæµå°±æ˜¯æŠŠä»»åŠ¡åˆ†é…ç»™å¤šä¸ªçº¿ç¨‹å»å®Œå…¨ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å»ç”¨ä»£ç å®ç°çš„è¯å…¶å®ä¼šéå¸¸çš„å¤æ‚ï¼Œå¹¶ä¸”è¦æ±‚ä½ å¯¹å¹¶å‘ç¼–ç¨‹æœ‰è¶³å¤Ÿçš„ç†è§£å’Œè®¤è¯†ã€‚è€Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨Streamçš„è¯ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨å°±å¯ä»¥ä½¿ç”¨å¹¶è¡Œæµæ¥å¸®æˆ‘ä»¬å®ç°ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚\nâ€‹\tparallelæ–¹æ³•å¯ä»¥æŠŠä¸²è¡Œæµè½¬æ¢æˆå¹¶è¡Œæµã€‚\nprivate static void test28() { Stream\u003cInteger\u003e stream = Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10); Integer sum = stream.parallel() .peek(new Consumer\u003cInteger\u003e() { @Override public void accept(Integer num) { System.out.println(num+Thread.currentThread().getName()); } }) .filter(num -\u003e num \u003e 5) .reduce((result, ele) -\u003e result + ele) .get(); System.out.println(sum); } â€‹\tä¹Ÿå¯ä»¥é€šè¿‡parallelStreamç›´æ¥è·å–å¹¶è¡Œæµå¯¹è±¡ã€‚\nList\u003cAuthor\u003e authors = getAuthors(); authors.parallelStream() .map(author -\u003e author.getAge()) .map(age -\u003e age + 10) .filter(age-\u003eage\u003e18) .map(age-\u003eage+2) .forEach(System.out::println); ",
  "wordCount" : "9161",
  "inLanguage": "zh",
  "image":"https://XianCH.github.io/postsImg/function.jpg","datePublished": "2023-03-25T10:16:51Z",
  "dateModified": "2023-09-22T10:16:51Z",
  "author":[{
    "@type": "Person",
    "name": "x14n"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://XianCH.github.io/posts/tech/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "X14n's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://XianCH.github.io/img/favicon.icon"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://XianCH.github.io/" accesskey="h" title="x14n&#39;s Blog (Alt + H)">
            <img src="https://XianCH.github.io/img/main.png" alt="logo" aria-label="logo"
                 height="35">x14n&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://XianCH.github.io/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://XianCH.github.io/" title="ğŸ  ä¸»é¡µ">
                <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://XianCH.github.io/posts" title="ğŸ“š æ–‡ç« ">
                <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://XianCH.github.io/tags" title="ğŸ§© æ ‡ç­¾">
                <span>ğŸ§© æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://XianCH.github.io/archives/" title="â±ï¸ æ—¶é—´è½´">
                <span>â±ï¸ æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://XianCH.github.io/about" title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº">
                <span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }
</style>

<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="https://XianCH.github.io/">ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://XianCH.github.io/posts/">ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://XianCH.github.io/posts/tech/">ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯</a></div>
            <h1 class="post-title">
                javaå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³
            </h1>
            <div class="post-meta">

<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2023-03-25
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>9161å­—
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>19åˆ†é’Ÿ
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>x14n
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
            <span class="post-tags-meta">
                <a href="https://XianCH.github.io/tags/java/" style="color: var(--secondary)!important;">Java</a>
            </span>
        </span>
    </span>
</span>
<span style="opacity: 0.8;">
                    <span id="post_meta_style_7">
                        &nbsp;&nbsp;
                        <span class="fa fa-eye" ></span>
                        <span>
                            <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
                            &nbsp;&nbsp;
                        </span>
                    </span>
                    <span id="post_meta_style_8">
                        <span class="fa fa-commenting-o"></span>
                        <span>
                            <script src="https://cdn.staticfile.org/twikoo//twikoo.all.min.js"></script>
                            <script>
                                let url = document.documentURI
                                
                                let dnsUrl = "https://XianCH.github.io/"
                                let urlSplit = url.split(dnsUrl)
                                let finalUrl = urlSplit[1]
                                if (finalUrl[0] !== '/') {
                                    finalUrl = '/'+finalUrl
                                }
                                twikoo.getCommentsCount({
                                    envId:  null , 
                                region:  null , 
                                urls: [ 
                                    
                                    finalUrl,
                                ],
                                    includeReply: false 
                                }).then(function (res) {
                                    let count = res[0].count
                                    const obj = document.getElementById("comment_count");
                                    obj.innerText = count
                                    
                                    
                                    
                                }).catch(function (err) {
                                    
                                    console.error(err);
                                });
                            </script>
                            <span id="comment_count"></span>
                        </span>
                    </span>
                </span>

</div>
        </header> 
<figure class="entry-cover1"><img style="zoom:;" loading="lazy" src="https://XianCH.github.io/postsImg/function.jpg" alt="">
    
</figure><aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">ç›®å½•</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#12-%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b%e6%80%9d%e6%83%b3" aria-label="1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³">1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³</a><ul>
                        
                <li>
                    <a href="#121-%e6%a6%82%e5%bf%b5" aria-label="1.2.1 æ¦‚å¿µ">1.2.1 æ¦‚å¿µ</a></li>
                <li>
                    <a href="#122-%e4%bc%98%e7%82%b9" aria-label="1.2.2 ä¼˜ç‚¹">1.2.2 ä¼˜ç‚¹</a></li></ul>
                </li></ul>
                    
                <li>
                    <a href="#2-lambda%e8%a1%a8%e8%be%be%e5%bc%8f" aria-label="2. Lambdaè¡¨è¾¾å¼">2. Lambdaè¡¨è¾¾å¼</a><ul>
                        
                <li>
                    <a href="#21-%e6%a6%82%e8%bf%b0" aria-label="2.1 æ¦‚è¿°">2.1 æ¦‚è¿°</a></li>
                <li>
                    <a href="#22-%e6%a0%b8%e5%bf%83%e5%8e%9f%e5%88%99" aria-label="2.2 æ ¸å¿ƒåŸåˆ™">2.2 æ ¸å¿ƒåŸåˆ™</a></li>
                <li>
                    <a href="#2-3-%e5%9f%ba%e6%9c%ac%e6%a0%bc%e5%bc%8f" aria-label="2. 3 åŸºæœ¬æ ¼å¼">2. 3 åŸºæœ¬æ ¼å¼</a><ul>
                        
                <li>
                    <a href="#%e4%be%8b%e4%b8%80" aria-label="ä¾‹ä¸€">ä¾‹ä¸€</a></li>
                <li>
                    <a href="#%e4%be%8b%e4%ba%8c" aria-label="ä¾‹äºŒ:">ä¾‹äºŒ:</a></li>
                <li>
                    <a href="#%e4%be%8b%e4%b8%89" aria-label="ä¾‹ä¸‰ï¼š">ä¾‹ä¸‰ï¼š</a></li>
                <li>
                    <a href="#%e4%be%8b%e5%9b%9b" aria-label="ä¾‹å››ï¼š">ä¾‹å››ï¼š</a></li>
                <li>
                    <a href="#%e4%be%8b%e4%ba%94" aria-label="ä¾‹äº”ï¼š">ä¾‹äº”ï¼š</a></li></ul>
                </li>
                <li>
                    <a href="#24-%e7%9c%81%e7%95%a5%e8%a7%84%e5%88%99" aria-label="2.4 çœç•¥è§„åˆ™">2.4 çœç•¥è§„åˆ™</a></li></ul>
                </li>
                <li>
                    <a href="#3-stream%e6%b5%81" aria-label="3. Streamæµ">3. Streamæµ</a><ul>
                        
                <li>
                    <a href="#31-%e6%a6%82%e8%bf%b0" aria-label="3.1 æ¦‚è¿°">3.1 æ¦‚è¿°</a></li>
                <li>
                    <a href="#32-%e6%a1%88%e4%be%8b%e6%95%b0%e6%8d%ae%e5%87%86%e5%a4%87" aria-label="3.2 æ¡ˆä¾‹æ•°æ®å‡†å¤‡">3.2 æ¡ˆä¾‹æ•°æ®å‡†å¤‡</a></li>
                <li>
                    <a href="#33-%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8" aria-label="3.3 å¿«é€Ÿå…¥é—¨">3.3 å¿«é€Ÿå…¥é—¨</a><ul>
                        
                <li>
                    <a href="#331-%e9%9c%80%e6%b1%82" aria-label="3.3.1 éœ€æ±‚">3.3.1 éœ€æ±‚</a></li>
                <li>
                    <a href="#332-%e5%ae%9e%e7%8e%b0" aria-label="3.3.2 å®ç°">3.3.2 å®ç°</a></li></ul>
                </li>
                <li>
                    <a href="#34-%e5%b8%b8%e7%94%a8%e6%93%8d%e4%bd%9c" aria-label="3.4 å¸¸ç”¨æ“ä½œ">3.4 å¸¸ç”¨æ“ä½œ</a><ul>
                        
                <li>
                    <a href="#341-%e5%88%9b%e5%bb%ba%e6%b5%81" aria-label="3.4.1 åˆ›å»ºæµ">3.4.1 åˆ›å»ºæµ</a></li>
                <li>
                    <a href="#342-%e4%b8%ad%e9%97%b4%e6%93%8d%e4%bd%9c" aria-label="3.4.2 ä¸­é—´æ“ä½œ">3.4.2 ä¸­é—´æ“ä½œ</a><ul>
                        
                <li>
                    <a href="#filter" aria-label="filter">filter</a></li>
                <li>
                    <a href="#map" aria-label="map">map</a></li>
                <li>
                    <a href="#distinct" aria-label="distinct">distinct</a></li>
                <li>
                    <a href="#sorted" aria-label="sorted">sorted</a></li>
                <li>
                    <a href="#limit" aria-label="limit">limit</a></li>
                <li>
                    <a href="#skip" aria-label="skip">skip</a></li>
                <li>
                    <a href="#flatmap" aria-label="flatMap">flatMap</a></li></ul>
                </li>
                <li>
                    <a href="#343-%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c" aria-label="3.4.3 ç»ˆç»“æ“ä½œ">3.4.3 ç»ˆç»“æ“ä½œ</a><ul>
                        
                <li>
                    <a href="#foreach" aria-label="forEach">forEach</a></li>
                <li>
                    <a href="#count" aria-label="count">count</a></li>
                <li>
                    <a href="#maxmin" aria-label="max&amp;amp;min">max&amp;min</a></li>
                <li>
                    <a href="#collect" aria-label="collect">collect</a></li>
                <li>
                    <a href="#%e6%9f%a5%e6%89%be%e4%b8%8e%e5%8c%b9%e9%85%8d" aria-label="æŸ¥æ‰¾ä¸åŒ¹é…">æŸ¥æ‰¾ä¸åŒ¹é…</a><ul>
                        
                <li>
                    <a href="#anymatch" aria-label="anyMatch">anyMatch</a></li>
                <li>
                    <a href="#allmatch" aria-label="allMatch">allMatch</a></li>
                <li>
                    <a href="#nonematch" aria-label="noneMatch">noneMatch</a></li>
                <li>
                    <a href="#findany" aria-label="findAny">findAny</a></li>
                <li>
                    <a href="#findfirst" aria-label="findFirst">findFirst</a></li></ul>
                </li>
                <li>
                    <a href="#reduce%e5%bd%92%e5%b9%b6" aria-label="reduceå½’å¹¶">reduceå½’å¹¶</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#35-%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="3.5 æ³¨æ„äº‹é¡¹">3.5 æ³¨æ„äº‹é¡¹</a></li></ul>
                </li>
                <li>
                    <a href="#4-optional" aria-label="4. Optional">4. Optional</a><ul>
                        
                <li>
                    <a href="#41-%e6%a6%82%e8%bf%b0" aria-label="4.1 æ¦‚è¿°">4.1 æ¦‚è¿°</a></li>
                <li>
                    <a href="#42-%e4%bd%bf%e7%94%a8" aria-label="4.2 ä½¿ç”¨">4.2 ä½¿ç”¨</a><ul>
                        
                <li>
                    <a href="#421-%e5%88%9b%e5%bb%ba%e5%af%b9%e8%b1%a1" aria-label="4.2.1 åˆ›å»ºå¯¹è±¡">4.2.1 åˆ›å»ºå¯¹è±¡</a></li>
                <li>
                    <a href="#422-%e5%ae%89%e5%85%a8%e6%b6%88%e8%b4%b9%e5%80%bc" aria-label="4.2.2 å®‰å…¨æ¶ˆè´¹å€¼">4.2.2 å®‰å…¨æ¶ˆè´¹å€¼</a></li>
                <li>
                    <a href="#423-%e8%8e%b7%e5%8f%96%e5%80%bc" aria-label="4.2.3 è·å–å€¼">4.2.3 è·å–å€¼</a></li>
                <li>
                    <a href="#424-%e5%ae%89%e5%85%a8%e8%8e%b7%e5%8f%96%e5%80%bc" aria-label="4.2.4 å®‰å…¨è·å–å€¼">4.2.4 å®‰å…¨è·å–å€¼</a></li>
                <li>
                    <a href="#425-%e8%bf%87%e6%bb%a4" aria-label="4.2.5 è¿‡æ»¤">4.2.5 è¿‡æ»¤</a></li>
                <li>
                    <a href="#426-%e5%88%a4%e6%96%ad" aria-label="4.2.6 åˆ¤æ–­">4.2.6 åˆ¤æ–­</a></li>
                <li>
                    <a href="#427-%e6%95%b0%e6%8d%ae%e8%bd%ac%e6%8d%a2" aria-label="4.2.7 æ•°æ®è½¬æ¢">4.2.7 æ•°æ®è½¬æ¢</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#5-%e5%87%bd%e6%95%b0%e5%bc%8f%e6%8e%a5%e5%8f%a3" aria-label="5. å‡½æ•°å¼æ¥å£">5. å‡½æ•°å¼æ¥å£</a><ul>
                        
                <li>
                    <a href="#51-%e6%a6%82%e8%bf%b0" aria-label="5.1 æ¦‚è¿°">5.1 æ¦‚è¿°</a></li>
                <li>
                    <a href="#52-%e5%b8%b8%e8%a7%81%e5%87%bd%e6%95%b0%e5%bc%8f%e6%8e%a5%e5%8f%a3" aria-label="5.2 å¸¸è§å‡½æ•°å¼æ¥å£">5.2 å¸¸è§å‡½æ•°å¼æ¥å£</a></li>
                <li>
                    <a href="#53-%e5%b8%b8%e7%94%a8%e7%9a%84%e9%bb%98%e8%ae%a4%e6%96%b9%e6%b3%95" aria-label="5.3 å¸¸ç”¨çš„é»˜è®¤æ–¹æ³•">5.3 å¸¸ç”¨çš„é»˜è®¤æ–¹æ³•</a></li></ul>
                </li>
                <li>
                    <a href="#6-%e6%96%b9%e6%b3%95%e5%bc%95%e7%94%a8" aria-label="6. æ–¹æ³•å¼•ç”¨">6. æ–¹æ³•å¼•ç”¨</a><ul>
                        
                <li>
                    <a href="#61-%e6%8e%a8%e8%8d%90%e7%94%a8%e6%b3%95" aria-label="6.1 æ¨èç”¨æ³•">6.1 æ¨èç”¨æ³•</a></li>
                <li>
                    <a href="#62-%e5%9f%ba%e6%9c%ac%e6%a0%bc%e5%bc%8f" aria-label="6.2 åŸºæœ¬æ ¼å¼">6.2 åŸºæœ¬æ ¼å¼</a></li>
                <li>
                    <a href="#63-%e8%af%ad%e6%b3%95%e8%af%a6%e8%a7%a3%e4%ba%86%e8%a7%a3" aria-label="6.3 è¯­æ³•è¯¦è§£(äº†è§£)">6.3 è¯­æ³•è¯¦è§£(äº†è§£)</a><ul>
                        
                <li>
                    <a href="#631-%e5%bc%95%e7%94%a8%e7%b1%bb%e7%9a%84%e9%9d%99%e6%80%81%e6%96%b9%e6%b3%95" aria-label="6.3.1 å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•">6.3.1 å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•</a><ul>
                        
                <li>
                    <a href="#%e6%a0%bc%e5%bc%8f" aria-label="æ ¼å¼">æ ¼å¼</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%89%8d%e6%8f%90" aria-label="ä½¿ç”¨å‰æ">ä½¿ç”¨å‰æ</a></li></ul>
                </li>
                <li>
                    <a href="#632-%e5%bc%95%e7%94%a8%e5%af%b9%e8%b1%a1%e7%9a%84%e5%ae%9e%e4%be%8b%e6%96%b9%e6%b3%95" aria-label="6.3.2 å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•">6.3.2 å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•</a><ul>
                        
                <li>
                    <a href="#%e6%a0%bc%e5%bc%8f-1" aria-label="æ ¼å¼">æ ¼å¼</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%89%8d%e6%8f%90-1" aria-label="ä½¿ç”¨å‰æ">ä½¿ç”¨å‰æ</a></li></ul>
                </li>
                <li>
                    <a href="#634-%e5%bc%95%e7%94%a8%e7%b1%bb%e7%9a%84%e5%ae%9e%e4%be%8b%e6%96%b9%e6%b3%95" aria-label="6.3.4 å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³•">6.3.4 å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³•</a><ul>
                        
                <li>
                    <a href="#%e6%a0%bc%e5%bc%8f-2" aria-label="æ ¼å¼">æ ¼å¼</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%89%8d%e6%8f%90-2" aria-label="ä½¿ç”¨å‰æ">ä½¿ç”¨å‰æ</a></li></ul>
                </li>
                <li>
                    <a href="#635-%e6%9e%84%e9%80%a0%e5%99%a8%e5%bc%95%e7%94%a8" aria-label="6.3.5 æ„é€ å™¨å¼•ç”¨">6.3.5 æ„é€ å™¨å¼•ç”¨</a><ul>
                        
                <li>
                    <a href="#%e6%a0%bc%e5%bc%8f-3" aria-label="æ ¼å¼">æ ¼å¼</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%89%8d%e6%8f%90-3" aria-label="ä½¿ç”¨å‰æ">ä½¿ç”¨å‰æ</a></li></ul>
                </li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#7-%e9%ab%98%e7%ba%a7%e7%94%a8%e6%b3%95" aria-label="7. é«˜çº§ç”¨æ³•">7. é«˜çº§ç”¨æ³•</a><ul>
                        
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e4%bc%98%e5%8c%96" aria-label="åŸºæœ¬æ•°æ®ç±»å‹ä¼˜åŒ–">åŸºæœ¬æ•°æ®ç±»å‹ä¼˜åŒ–</a></li>
                <li>
                    <a href="#%e5%b9%b6%e8%a1%8c%e6%b5%81" aria-label="å¹¶è¡Œæµ">å¹¶è¡Œæµ</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        if (elements) {
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                    (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                    return element;
                }
            }) || activeElement

            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                if (element === activeElement){
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
                } else {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
                }
            })
        }
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        <div class="post-content"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//æŸ¥è¯¢æœªæˆå¹´ä½œå®¶çš„è¯„åˆ†åœ¨70ä»¥ä¸Šçš„ä¹¦ç± ç”±äºæ´‹æµå½±å“æ‰€ä»¥ä½œå®¶å’Œä¹¦ç±å¯èƒ½å‡ºç°é‡å¤ï¼Œéœ€è¦è¿›è¡Œå»é‡</span>
</span></span><span style="display:flex;"><span>List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> bookList <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>Set<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> uniqueBookValues <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashSet<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>Set<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> uniqueAuthorValues <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashSet<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (Author author : authors) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (uniqueAuthorValues.<span style="color:#a6e22e">add</span>(author)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (author.<span style="color:#a6e22e">getAge</span>() <span style="color:#f92672">&lt;</span> 18) {
</span></span><span style="display:flex;"><span>            List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> books <span style="color:#f92672">=</span> author.<span style="color:#a6e22e">getBooks</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (Book book : books) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (book.<span style="color:#a6e22e">getScore</span>() <span style="color:#f92672">&gt;</span> 70) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (uniqueBookValues.<span style="color:#a6e22e">add</span>(book)) {
</span></span><span style="display:flex;"><span>                        bookList.<span style="color:#a6e22e">add</span>(book);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(bookList);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> collect <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">filter</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>() <span style="color:#f92672">&lt;</span> 18)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>())
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">flatMap</span>(Collection::stream)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">filter</span>(book <span style="color:#f92672">-&gt;</span> book.<span style="color:#a6e22e">getScore</span>() <span style="color:#f92672">&gt;</span> 70)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(collect);
</span></span></code></pre></div><h3 id="12-å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³">1.2 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³<a hidden class="anchor" aria-hidden="true" href="#12-å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³">#</a></h3>
<h4 id="121-æ¦‚å¿µ">1.2.1 æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#121-æ¦‚å¿µ">#</a></h4>
<p>â€‹	é¢å‘å¯¹è±¡æ€æƒ³éœ€è¦å…³æ³¨ç”¨ä»€ä¹ˆå¯¹è±¡å®Œæˆä»€ä¹ˆäº‹æƒ…ã€‚è€Œå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³å°±ç±»ä¼¼äºæˆ‘ä»¬æ•°å­¦ä¸­çš„å‡½æ•°ã€‚å®ƒä¸»è¦å…³æ³¨çš„æ˜¯å¯¹æ•°æ®è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œã€‚</p>
<h4 id="122-ä¼˜ç‚¹">1.2.2 ä¼˜ç‚¹<a hidden class="anchor" aria-hidden="true" href="#122-ä¼˜ç‚¹">#</a></h4>
<ul>
<li>ä»£ç ç®€æ´ï¼Œå¼€å‘å¿«é€Ÿ</li>
<li>æ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œæ˜“äºç†è§£</li>
<li>æ˜“äº&quot;å¹¶å‘ç¼–ç¨‹&quot;</li>
</ul>
<h2 id="2-lambdaè¡¨è¾¾å¼">2. Lambdaè¡¨è¾¾å¼<a hidden class="anchor" aria-hidden="true" href="#2-lambdaè¡¨è¾¾å¼">#</a></h2>
<h3 id="21-æ¦‚è¿°">2.1 æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#21-æ¦‚è¿°">#</a></h3>
<p>â€‹	Lambdaæ˜¯JDK8ä¸­ä¸€ä¸ªè¯­æ³•ç³–ã€‚ä»–å¯ä»¥å¯¹æŸäº›åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è¿›è¡Œç®€åŒ–ã€‚å®ƒæ˜¯å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³çš„ä¸€ä¸ªé‡è¦ä½“ç°ã€‚è®©æˆ‘ä»¬ä¸ç”¨å…³æ³¨æ˜¯ä»€ä¹ˆå¯¹è±¡ã€‚è€Œæ˜¯æ›´å…³æ³¨æˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œã€‚</p>
<h3 id="22-æ ¸å¿ƒåŸåˆ™">2.2 æ ¸å¿ƒåŸåˆ™<a hidden class="anchor" aria-hidden="true" href="#22-æ ¸å¿ƒåŸåˆ™">#</a></h3>
<blockquote>
<p>å¯æ¨å¯¼å¯çœç•¥</p>
</blockquote>
<h3 id="2-3-åŸºæœ¬æ ¼å¼">2. 3 åŸºæœ¬æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#2-3-åŸºæœ¬æ ¼å¼">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>(å‚æ•°åˆ—è¡¨)<span style="color:#f92672">-&gt;</span>{ä»£ç }
</span></span></code></pre></div><h4 id="ä¾‹ä¸€">ä¾‹ä¸€<a hidden class="anchor" aria-hidden="true" href="#ä¾‹ä¸€">#</a></h4>
<p>æˆ‘ä»¬åœ¨åˆ›å»ºçº¿ç¨‹å¹¶å¯åŠ¨æ—¶å¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">new</span> Thread(<span style="color:#66d9ef">new</span> Runnable() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span>() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;ä½ çŸ¥é“å— æˆ‘æ¯”ä½ æƒ³è±¡çš„ æ›´æƒ³åœ¨ä½ èº«è¾¹&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}).<span style="color:#a6e22e">start</span>();
</span></span></code></pre></div><p>å¯ä»¥ä½¿ç”¨Lambdaçš„æ ¼å¼å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚ä¿®æ”¹åå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">new</span> Thread(()<span style="color:#f92672">-&gt;</span>{
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;ä½ çŸ¥é“å— æˆ‘æ¯”ä½ æƒ³è±¡çš„ æ›´æƒ³åœ¨ä½ èº«è¾¹&#34;</span>);
</span></span><span style="display:flex;"><span>}).<span style="color:#a6e22e">start</span>();
</span></span></code></pre></div><h4 id="ä¾‹äºŒ">ä¾‹äºŒ:<a hidden class="anchor" aria-hidden="true" href="#ä¾‹äºŒ">#</a></h4>
<p>ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­IntBinaryOperatoræ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">calculateNum</span>(IntBinaryOperator operator){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 10;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> 20;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> operator.<span style="color:#a6e22e">applyAsInt</span>(a, b);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> calculateNum(<span style="color:#66d9ef">new</span> IntBinaryOperator() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">applyAsInt</span>(<span style="color:#66d9ef">int</span> left, <span style="color:#66d9ef">int</span> right) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> left <span style="color:#f92672">+</span> right;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(i);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Lambdaå†™æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> calculateNum((<span style="color:#66d9ef">int</span> left, <span style="color:#66d9ef">int</span> right)<span style="color:#f92672">-&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> left <span style="color:#f92672">+</span> right;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(i);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h4 id="ä¾‹ä¸‰">ä¾‹ä¸‰ï¼š<a hidden class="anchor" aria-hidden="true" href="#ä¾‹ä¸‰">#</a></h4>
<p>ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­IntPredicateæ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printNum</span>(IntPredicate predicate){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr <span style="color:#f92672">=</span> {1,2,3,4,5,6,7,8,9,10};
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i : arr) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(predicate.<span style="color:#a6e22e">test</span>(i)){
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(i);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        printNum(<span style="color:#66d9ef">new</span> IntPredicate() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span>(<span style="color:#66d9ef">int</span> value) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> value<span style="color:#f92672">%</span>2<span style="color:#f92672">==</span>0;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Lambdaå†™æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        printNum((<span style="color:#66d9ef">int</span> value)<span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> value<span style="color:#f92672">%</span>2<span style="color:#f92672">==</span>0;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printNum</span>(IntPredicate predicate){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr <span style="color:#f92672">=</span> {1,2,3,4,5,6,7,8,9,10};
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i : arr) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(predicate.<span style="color:#a6e22e">test</span>(i)){
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(i);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h4 id="ä¾‹å››">ä¾‹å››ï¼š<a hidden class="anchor" aria-hidden="true" href="#ä¾‹å››">#</a></h4>
<p>ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­Functionæ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#f92672">&lt;</span>R<span style="color:#f92672">&gt;</span> R <span style="color:#a6e22e">typeConver</span>(Function<span style="color:#f92672">&lt;</span>String,R<span style="color:#f92672">&gt;</span> function){
</span></span><span style="display:flex;"><span>        String str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1235&#34;</span>;
</span></span><span style="display:flex;"><span>        R result <span style="color:#f92672">=</span> function.<span style="color:#a6e22e">apply</span>(str);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        Integer result <span style="color:#f92672">=</span> typeConver(<span style="color:#66d9ef">new</span> Function<span style="color:#f92672">&lt;</span>String, Integer<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> Integer <span style="color:#a6e22e">apply</span>(String s) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> Integer.<span style="color:#a6e22e">valueOf</span>(s);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(result);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Lambdaå†™æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Integer result <span style="color:#f92672">=</span> typeConver((String s)<span style="color:#f92672">-&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Integer.<span style="color:#a6e22e">valueOf</span>(s);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(result);
</span></span></code></pre></div><h4 id="ä¾‹äº”">ä¾‹äº”ï¼š<a hidden class="anchor" aria-hidden="true" href="#ä¾‹äº”">#</a></h4>
<p>ç°æœ‰æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼Œå…¶ä¸­IntConsumeræ˜¯ä¸€ä¸ªæ¥å£ã€‚å…ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">foreachArr</span>(IntConsumer consumer){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr <span style="color:#f92672">=</span> {1,2,3,4,5,6,7,8,9,10};
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i : arr) {
</span></span><span style="display:flex;"><span>            consumer.<span style="color:#a6e22e">accept</span>(i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        foreachArr(<span style="color:#66d9ef">new</span> IntConsumer() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">accept</span>(<span style="color:#66d9ef">int</span> value) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(value);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Lambdaå†™æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        foreachArr((<span style="color:#66d9ef">int</span> value)<span style="color:#f92672">-&gt;</span>{
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(value);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h3 id="24-çœç•¥è§„åˆ™">2.4 çœç•¥è§„åˆ™<a hidden class="anchor" aria-hidden="true" href="#24-çœç•¥è§„åˆ™">#</a></h3>
<ul>
<li>å‚æ•°ç±»å‹å¯ä»¥çœç•¥</li>
<li>æ–¹æ³•ä½“åªæœ‰ä¸€å¥ä»£ç æ—¶å¤§æ‹¬å·returnå’Œå”¯ä¸€ä¸€å¥ä»£ç çš„åˆ†å·å¯ä»¥çœç•¥</li>
<li>æ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å°æ‹¬å·å¯ä»¥çœç•¥</li>
<li>ä»¥ä¸Šè¿™äº›è§„åˆ™éƒ½è®°ä¸ä½ä¹Ÿå¯ä»¥çœç•¥ä¸è®°</li>
</ul>
<h2 id="3-streamæµ">3. Streamæµ<a hidden class="anchor" aria-hidden="true" href="#3-streamæµ">#</a></h2>
<h3 id="31-æ¦‚è¿°">3.1 æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#31-æ¦‚è¿°">#</a></h3>
<p>â€‹	Java8çš„Streamä½¿ç”¨çš„æ˜¯å‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼ï¼Œå¦‚åŒå®ƒçš„åå­—ä¸€æ ·ï¼Œå®ƒå¯ä»¥è¢«ç”¨æ¥å¯¹é›†åˆæˆ–æ•°ç»„è¿›è¡Œé“¾çŠ¶æµå¼çš„æ“ä½œã€‚å¯ä»¥æ›´æ–¹ä¾¿çš„è®©æˆ‘ä»¬å¯¹é›†åˆæˆ–æ•°ç»„æ“ä½œã€‚</p>
<h3 id="32-æ¡ˆä¾‹æ•°æ®å‡†å¤‡">3.2 æ¡ˆä¾‹æ•°æ®å‡†å¤‡<a hidden class="anchor" aria-hidden="true" href="#32-æ¡ˆä¾‹æ•°æ®å‡†å¤‡">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>org.projectlombok<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>lombok<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;version&gt;</span>1.18.16<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/dependencies&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@NoArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@AllArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@EqualsAndHashCode</span><span style="color:#75715e">//ç”¨äºåæœŸçš„å»é‡ä½¿ç”¨</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Author</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long id;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//å§“å</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//å¹´é¾„</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer age;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//ç®€ä»‹</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String intro;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//ä½œå“</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> books;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@AllArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@NoArgsConstructor</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@EqualsAndHashCode</span><span style="color:#75715e">//ç”¨äºåæœŸçš„å»é‡ä½¿ç”¨</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Book</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Long id;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//ä¹¦å</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//åˆ†ç±»</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String category;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//è¯„åˆ†</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Integer score;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//ç®€ä»‹</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String intro;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getAuthors</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//æ•°æ®åˆå§‹åŒ–</span>
</span></span><span style="display:flex;"><span>        Author author <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Author(1L,<span style="color:#e6db74">&#34;è’™å¤š&#34;</span>,33,<span style="color:#e6db74">&#34;ä¸€ä¸ªä»èœåˆ€ä¸­æ˜æ‚Ÿå“²ç†çš„ç¥–å®‰äºº&#34;</span>,<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>        Author author2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Author(2L,<span style="color:#e6db74">&#34;äºšæ‹‰ç´¢&#34;</span>,15,<span style="color:#e6db74">&#34;ç‹‚é£ä¹Ÿè¿½é€ä¸ä¸Šä»–çš„æ€è€ƒé€Ÿåº¦&#34;</span>,<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>        Author author3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Author(3L,<span style="color:#e6db74">&#34;æ˜“&#34;</span>,14,<span style="color:#e6db74">&#34;æ˜¯è¿™ä¸ªä¸–ç•Œåœ¨é™åˆ¶ä»–çš„æ€ç»´&#34;</span>,<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>        Author author4 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Author(3L,<span style="color:#e6db74">&#34;æ˜“&#34;</span>,14,<span style="color:#e6db74">&#34;æ˜¯è¿™ä¸ªä¸–ç•Œåœ¨é™åˆ¶ä»–çš„æ€ç»´&#34;</span>,<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//ä¹¦ç±åˆ—è¡¨</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> books1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> books2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> books3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        books1.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(1L,<span style="color:#e6db74">&#34;åˆ€çš„ä¸¤ä¾§æ˜¯å…‰æ˜ä¸é»‘æš—&#34;</span>,<span style="color:#e6db74">&#34;å“²å­¦,çˆ±æƒ…&#34;</span>,88,<span style="color:#e6db74">&#34;ç”¨ä¸€æŠŠåˆ€åˆ’åˆ†äº†çˆ±æ¨&#34;</span>));
</span></span><span style="display:flex;"><span>        books1.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(2L,<span style="color:#e6db74">&#34;ä¸€ä¸ªäººä¸èƒ½æ­»åœ¨åŒä¸€æŠŠåˆ€ä¸‹&#34;</span>,<span style="color:#e6db74">&#34;ä¸ªäººæˆé•¿,çˆ±æƒ…&#34;</span>,99,<span style="color:#e6db74">&#34;è®²è¿°å¦‚ä½•ä»å¤±è´¥ä¸­æ˜æ‚ŸçœŸç†&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        books2.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(3L,<span style="color:#e6db74">&#34;é‚£é£å¹ä¸åˆ°çš„åœ°æ–¹&#34;</span>,<span style="color:#e6db74">&#34;å“²å­¦&#34;</span>,85,<span style="color:#e6db74">&#34;å¸¦ä½ ç”¨æ€ç»´å»é¢†ç•¥ä¸–ç•Œçš„å°½å¤´&#34;</span>));
</span></span><span style="display:flex;"><span>        books2.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(3L,<span style="color:#e6db74">&#34;é‚£é£å¹ä¸åˆ°çš„åœ°æ–¹&#34;</span>,<span style="color:#e6db74">&#34;å“²å­¦&#34;</span>,85,<span style="color:#e6db74">&#34;å¸¦ä½ ç”¨æ€ç»´å»é¢†ç•¥ä¸–ç•Œçš„å°½å¤´&#34;</span>));
</span></span><span style="display:flex;"><span>        books2.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(4L,<span style="color:#e6db74">&#34;å¹æˆ–ä¸å¹&#34;</span>,<span style="color:#e6db74">&#34;çˆ±æƒ…,ä¸ªäººä¼ è®°&#34;</span>,56,<span style="color:#e6db74">&#34;ä¸€ä¸ªå“²å­¦å®¶çš„æ‹çˆ±è§‚æ³¨å®šå¾ˆéš¾æŠŠä»–æ‰€åœ¨çš„æ—¶ä»£ç†è§£&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        books3.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(5L,<span style="color:#e6db74">&#34;ä½ çš„å‰‘å°±æ˜¯æˆ‘çš„å‰‘&#34;</span>,<span style="color:#e6db74">&#34;çˆ±æƒ…&#34;</span>,56,<span style="color:#e6db74">&#34;æ— æ³•æƒ³è±¡ä¸€ä¸ªæ­¦è€…èƒ½å¯¹ä»–çš„ä¼´ä¾£è¿™ä¹ˆçš„å®½å®¹&#34;</span>));
</span></span><span style="display:flex;"><span>        books3.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(6L,<span style="color:#e6db74">&#34;é£ä¸å‰‘&#34;</span>,<span style="color:#e6db74">&#34;ä¸ªäººä¼ è®°&#34;</span>,100,<span style="color:#e6db74">&#34;ä¸¤ä¸ªå“²å­¦å®¶çµé­‚å’Œè‚‰ä½“çš„ç¢°æ’ä¼šæ¿€èµ·æ€ä¹ˆæ ·çš„ç«èŠ±å‘¢ï¼Ÿ&#34;</span>));
</span></span><span style="display:flex;"><span>        books3.<span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">new</span> Book(6L,<span style="color:#e6db74">&#34;é£ä¸å‰‘&#34;</span>,<span style="color:#e6db74">&#34;ä¸ªäººä¼ è®°&#34;</span>,100,<span style="color:#e6db74">&#34;ä¸¤ä¸ªå“²å­¦å®¶çµé­‚å’Œè‚‰ä½“çš„ç¢°æ’ä¼šæ¿€èµ·æ€ä¹ˆæ ·çš„ç«èŠ±å‘¢ï¼Ÿ&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        author.<span style="color:#a6e22e">setBooks</span>(books1);
</span></span><span style="display:flex;"><span>        author2.<span style="color:#a6e22e">setBooks</span>(books2);
</span></span><span style="display:flex;"><span>        author3.<span style="color:#a6e22e">setBooks</span>(books3);
</span></span><span style="display:flex;"><span>        author4.<span style="color:#a6e22e">setBooks</span>(books3);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorList <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>(Arrays.<span style="color:#a6e22e">asList</span>(author,author2,author3,author4));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> authorList;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h3 id="33-å¿«é€Ÿå…¥é—¨">3.3 å¿«é€Ÿå…¥é—¨<a hidden class="anchor" aria-hidden="true" href="#33-å¿«é€Ÿå…¥é—¨">#</a></h3>
<h4 id="331-éœ€æ±‚">3.3.1 éœ€æ±‚<a hidden class="anchor" aria-hidden="true" href="#331-éœ€æ±‚">#</a></h4>
<p>â€‹	æˆ‘ä»¬å¯ä»¥è°ƒç”¨getAuthorsæ–¹æ³•è·å–åˆ°ä½œå®¶çš„é›†åˆã€‚ç°åœ¨éœ€è¦æ‰“å°æ‰€æœ‰å¹´é¾„å°äº18çš„ä½œå®¶çš„åå­—ï¼Œå¹¶ä¸”è¦æ³¨æ„å»é‡ã€‚</p>
<h4 id="332-å®ç°">3.3.2 å®ç°<a hidden class="anchor" aria-hidden="true" href="#332-å®ç°">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        <span style="color:#75715e">//æ‰“å°æ‰€æœ‰å¹´é¾„å°äº18çš„ä½œå®¶çš„åå­—ï¼Œå¹¶ä¸”è¦æ³¨æ„å»é‡</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">stream</span>()<span style="color:#75715e">//æŠŠé›†åˆè½¬æ¢æˆæµ</span>
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()<span style="color:#75715e">//å…ˆå»é™¤é‡å¤çš„ä½œå®¶</span>
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>()<span style="color:#f92672">&lt;</span>18)<span style="color:#75715e">//ç­›é€‰å¹´é¾„å°äº18çš„</span>
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));<span style="color:#75715e">//éå†æ‰“å°åå­—</span>
</span></span></code></pre></div><h3 id="34-å¸¸ç”¨æ“ä½œ">3.4 å¸¸ç”¨æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#34-å¸¸ç”¨æ“ä½œ">#</a></h3>
<h4 id="341-åˆ›å»ºæµ">3.4.1 åˆ›å»ºæµ<a hidden class="anchor" aria-hidden="true" href="#341-åˆ›å»ºæµ">#</a></h4>
<p>å•åˆ—é›†åˆï¼š <code>é›†åˆå¯¹è±¡.stream()</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>		Stream<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> stream <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>();
</span></span></code></pre></div><p>æ•°ç»„ï¼š<code>Arrays.stream(æ•°ç»„) </code>æˆ–è€…ä½¿ç”¨<code>Stream.of</code>æ¥åˆ›å»º</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JAVA" data-lang="JAVA"><span style="display:flex;"><span>        Integer<span style="color:#f92672">[]</span> arr <span style="color:#f92672">=</span> {1,2,3,4,5};
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> stream <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">stream</span>(arr);
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> stream2 <span style="color:#f92672">=</span> Stream.<span style="color:#a6e22e">of</span>(arr);
</span></span></code></pre></div><p>åŒåˆ—é›†åˆï¼šè½¬æ¢æˆå•åˆ—é›†åˆåå†åˆ›å»º</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String,Integer<span style="color:#f92672">&gt;</span> map <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        map.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;èœ¡ç¬”å°æ–°&#34;</span>,19);
</span></span><span style="display:flex;"><span>        map.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;é»‘å­&#34;</span>,17);
</span></span><span style="display:flex;"><span>        map.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#34;æ—¥å‘ç¿”é˜³&#34;</span>,16);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Map.<span style="color:#a6e22e">Entry</span><span style="color:#f92672">&lt;</span>String, Integer<span style="color:#f92672">&gt;&gt;</span> stream <span style="color:#f92672">=</span> map.<span style="color:#a6e22e">entrySet</span>().<span style="color:#a6e22e">stream</span>();
</span></span></code></pre></div><h4 id="342-ä¸­é—´æ“ä½œ">3.4.2 ä¸­é—´æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#342-ä¸­é—´æ“ä½œ">#</a></h4>
<h5 id="filter">filter<a hidden class="anchor" aria-hidden="true" href="#filter">#</a></h5>
<p>â€‹	å¯ä»¥å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œæ¡ä»¶è¿‡æ»¤ï¼Œç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ‰èƒ½ç»§ç»­ç•™åœ¨æµä¸­ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>â€‹	æ‰“å°æ‰€æœ‰å§“åé•¿åº¦å¤§äº1çš„ä½œå®¶çš„å§“å</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>().<span style="color:#a6e22e">length</span>()<span style="color:#f92672">&gt;</span>1)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><h5 id="map">map<a hidden class="anchor" aria-hidden="true" href="#map">#</a></h5>
<p>â€‹	å¯ä»¥æŠŠå¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œè®¡ç®—æˆ–è½¬æ¢ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>â€‹	æ‰“å°æ‰€æœ‰ä½œå®¶çš„å§“å</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        authors
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(name<span style="color:#f92672">-&gt;</span>System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(name));
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        æ‰“å°æ‰€æœ‰ä½œå®¶çš„å§“å</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//        authors.stream()</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//                .map(author -&gt; author.getName())</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//                .forEach(s -&gt; System.out.println(s));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age<span style="color:#f92672">-&gt;</span>age<span style="color:#f92672">+</span>10)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(age<span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(age));
</span></span></code></pre></div><h5 id="distinct">distinct<a hidden class="anchor" aria-hidden="true" href="#distinct">#</a></h5>
<p>â€‹	å¯ä»¥å»é™¤æµä¸­çš„é‡å¤å…ƒç´ ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>â€‹	æ‰“å°æ‰€æœ‰ä½œå®¶çš„å§“åï¼Œå¹¶ä¸”è¦æ±‚å…¶ä¸­ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><p><strong>æ³¨æ„ï¼šdistinctæ–¹æ³•æ˜¯ä¾èµ–Objectçš„equalsæ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ç›¸åŒå¯¹è±¡çš„ã€‚æ‰€ä»¥éœ€è¦æ³¨æ„é‡å†™equalsæ–¹æ³•ã€‚</strong></p>
<h5 id="sorted">sorted<a hidden class="anchor" aria-hidden="true" href="#sorted">#</a></h5>
<p>â€‹	å¯ä»¥å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>â€‹	å¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span><span style="color:#75715e">//        å¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ã€‚</span>
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">sorted</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getAge</span>()));
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span><span style="color:#75715e">//        å¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ã€‚</span>
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">sorted</span>((o1, o2) <span style="color:#f92672">-&gt;</span> o2.<span style="color:#a6e22e">getAge</span>()<span style="color:#f92672">-</span>o1.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getAge</span>()));
</span></span></code></pre></div><p><strong>æ³¨æ„ï¼šå¦‚æœè°ƒç”¨ç©ºå‚çš„sorted()æ–¹æ³•ï¼Œéœ€è¦æµä¸­çš„å…ƒç´ æ˜¯å®ç°äº†Comparableã€‚</strong></p>
<p>â€‹</p>
<h5 id="limit">limit<a hidden class="anchor" aria-hidden="true" href="#limit">#</a></h5>
<p>â€‹	å¯ä»¥è®¾ç½®æµçš„æœ€å¤§é•¿åº¦ï¼Œè¶…å‡ºçš„éƒ¨åˆ†å°†è¢«æŠ›å¼ƒã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>â€‹	å¯¹æµä¸­çš„å…ƒç´ æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼Œå¹¶ä¸”è¦æ±‚ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ,ç„¶åæ‰“å°å…¶ä¸­å¹´é¾„æœ€å¤§çš„ä¸¤ä¸ªä½œå®¶çš„å§“åã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">sorted</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">limit</span>(2)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><h5 id="skip">skip<a hidden class="anchor" aria-hidden="true" href="#skip">#</a></h5>
<p>â€‹	è·³è¿‡æµä¸­çš„å‰nä¸ªå…ƒç´ ï¼Œè¿”å›å‰©ä¸‹çš„å…ƒç´ </p>
<p>ä¾‹å¦‚ï¼š</p>
<p>â€‹	æ‰“å°é™¤äº†å¹´é¾„æœ€å¤§çš„ä½œå®¶å¤–çš„å…¶ä»–ä½œå®¶ï¼Œè¦æ±‚ä¸èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œå¹¶ä¸”æŒ‰ç…§å¹´é¾„é™åºæ’åºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        æ‰“å°é™¤äº†å¹´é¾„æœ€å¤§çš„ä½œå®¶å¤–çš„å…¶ä»–ä½œå®¶ï¼Œè¦æ±‚ä¸èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œå¹¶ä¸”æŒ‰ç…§å¹´é¾„é™åºæ’åºã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">sorted</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">skip</span>(1)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><h5 id="flatmap">flatMap<a hidden class="anchor" aria-hidden="true" href="#flatmap">#</a></h5>
<p>â€‹	mapåªèƒ½æŠŠä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆå¦ä¸€ä¸ªå¯¹è±¡æ¥ä½œä¸ºæµä¸­çš„å…ƒç´ ã€‚è€ŒflatMapå¯ä»¥æŠŠä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆå¤šä¸ªå¯¹è±¡ä½œä¸ºæµä¸­çš„å…ƒç´ ã€‚</p>
<p>ä¾‹ä¸€ï¼š</p>
<p>â€‹	æ‰“å°æ‰€æœ‰ä¹¦ç±çš„åå­—ã€‚è¦æ±‚å¯¹é‡å¤çš„å…ƒç´ è¿›è¡Œå»é‡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        æ‰“å°æ‰€æœ‰ä¹¦ç±çš„åå­—ã€‚è¦æ±‚å¯¹é‡å¤çš„å…ƒç´ è¿›è¡Œå»é‡ã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">flatMap</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>().<span style="color:#a6e22e">stream</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(book <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(book.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><p>ä¾‹äºŒï¼š</p>
<p>â€‹	æ‰“å°ç°æœ‰æ•°æ®çš„æ‰€æœ‰åˆ†ç±»ã€‚è¦æ±‚å¯¹åˆ†ç±»è¿›è¡Œå»é‡ã€‚ä¸èƒ½å‡ºç°è¿™ç§æ ¼å¼ï¼šå“²å­¦,çˆ±æƒ…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        æ‰“å°ç°æœ‰æ•°æ®çš„æ‰€æœ‰åˆ†ç±»ã€‚è¦æ±‚å¯¹åˆ†ç±»è¿›è¡Œå»é‡ã€‚ä¸èƒ½å‡ºç°è¿™ç§æ ¼å¼ï¼šå“²å­¦,çˆ±æƒ…     çˆ±æƒ…</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">flatMap</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>().<span style="color:#a6e22e">stream</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">flatMap</span>(book <span style="color:#f92672">-&gt;</span> Arrays.<span style="color:#a6e22e">stream</span>(book.<span style="color:#a6e22e">getCategory</span>().<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;,&#34;</span>)))
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(category<span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(category));
</span></span></code></pre></div><h4 id="343-ç»ˆç»“æ“ä½œ">3.4.3 ç»ˆç»“æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#343-ç»ˆç»“æ“ä½œ">#</a></h4>
<h5 id="foreach">forEach<a hidden class="anchor" aria-hidden="true" href="#foreach">#</a></h5>
<p>â€‹	å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œéå†æ“ä½œï¼Œæˆ‘ä»¬é€šè¿‡ä¼ å…¥çš„å‚æ•°å»æŒ‡å®šå¯¹éå†åˆ°çš„å…ƒç´ è¿›è¡Œä»€ä¹ˆå…·ä½“æ“ä½œã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	è¾“å‡ºæ‰€æœ‰ä½œå®¶çš„åå­—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        è¾“å‡ºæ‰€æœ‰ä½œå®¶çš„åå­—</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(name<span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(name));
</span></span></code></pre></div><h5 id="count">count<a hidden class="anchor" aria-hidden="true" href="#count">#</a></h5>
<p>â€‹	å¯ä»¥ç”¨æ¥è·å–å½“å‰æµä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	æ‰“å°è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æ•°ç›®ï¼Œæ³¨æ„åˆ é™¤é‡å¤å…ƒç´ ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        æ‰“å°è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æ•°ç›®ï¼Œæ³¨æ„åˆ é™¤é‡å¤å…ƒç´ ã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> count <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">flatMap</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>().<span style="color:#a6e22e">stream</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">count</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(count);
</span></span></code></pre></div><h5 id="maxmin">max&amp;min<a hidden class="anchor" aria-hidden="true" href="#maxmin">#</a></h5>
<p>â€‹	å¯ä»¥ç”¨æ¥æˆ–è€…æµä¸­çš„æœ€å€¼ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	åˆ†åˆ«è·å–è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æœ€é«˜åˆ†å’Œæœ€ä½åˆ†å¹¶æ‰“å°ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        åˆ†åˆ«è·å–è¿™äº›ä½œå®¶çš„æ‰€å‡ºä¹¦ç±çš„æœ€é«˜åˆ†å’Œæœ€ä½åˆ†å¹¶æ‰“å°ã€‚</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//Stream&lt;Author&gt;  -&gt; Stream&lt;Book&gt; -&gt;Stream&lt;Integer&gt;  -&gt;æ±‚å€¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> max <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">flatMap</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>().<span style="color:#a6e22e">stream</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(book <span style="color:#f92672">-&gt;</span> book.<span style="color:#a6e22e">getScore</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">max</span>((score1, score2) <span style="color:#f92672">-&gt;</span> score1 <span style="color:#f92672">-</span> score2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> min <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">flatMap</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>().<span style="color:#a6e22e">stream</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(book <span style="color:#f92672">-&gt;</span> book.<span style="color:#a6e22e">getScore</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">min</span>((score1, score2) <span style="color:#f92672">-&gt;</span> score1 <span style="color:#f92672">-</span> score2);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(max.<span style="color:#a6e22e">get</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(min.<span style="color:#a6e22e">get</span>());
</span></span></code></pre></div><h5 id="collect">collect<a hidden class="anchor" aria-hidden="true" href="#collect">#</a></h5>
<p>â€‹	æŠŠå½“å‰æµè½¬æ¢æˆä¸€ä¸ªé›†åˆã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	è·å–ä¸€ä¸ªå­˜æ”¾æ‰€æœ‰ä½œè€…åå­—çš„Listé›†åˆã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        è·å–ä¸€ä¸ªå­˜æ”¾æ‰€æœ‰ä½œè€…åå­—çš„Listé›†åˆã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> nameList <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(nameList);
</span></span></code></pre></div><p>â€‹	è·å–ä¸€ä¸ªæ‰€æœ‰ä¹¦åçš„Seté›†åˆã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        è·å–ä¸€ä¸ªæ‰€æœ‰ä¹¦åçš„Seté›†åˆã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Set<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> books <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">flatMap</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>().<span style="color:#a6e22e">stream</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toSet</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(books);
</span></span></code></pre></div><p>â€‹	è·å–ä¸€ä¸ªMapé›†åˆï¼Œmapçš„keyä¸ºä½œè€…åï¼Œvalueä¸ºList<Book></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        è·å–ä¸€ä¸ªMapé›†åˆï¼Œmapçš„keyä¸ºä½œè€…åï¼Œvalueä¸ºList&lt;Book&gt;</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String, List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;&gt;</span> map <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toMap</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>(), author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>()));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(map);
</span></span></code></pre></div><h5 id="æŸ¥æ‰¾ä¸åŒ¹é…">æŸ¥æ‰¾ä¸åŒ¹é…<a hidden class="anchor" aria-hidden="true" href="#æŸ¥æ‰¾ä¸åŒ¹é…">#</a></h5>
<h6 id="anymatch">anyMatch<a hidden class="anchor" aria-hidden="true" href="#anymatch">#</a></h6>
<p>â€‹	å¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯å¦æœ‰ä»»æ„ç¬¦åˆåŒ¹é…æ¡ä»¶çš„å…ƒç´ ï¼Œç»“æœä¸ºbooleanç±»å‹ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	åˆ¤æ–­æ˜¯å¦æœ‰å¹´é¾„åœ¨29ä»¥ä¸Šçš„ä½œå®¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        åˆ¤æ–­æ˜¯å¦æœ‰å¹´é¾„åœ¨29ä»¥ä¸Šçš„ä½œå®¶</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> flag <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">anyMatch</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>() <span style="color:#f92672">&gt;</span> 29);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(flag);
</span></span></code></pre></div><h6 id="allmatch">allMatch<a hidden class="anchor" aria-hidden="true" href="#allmatch">#</a></h6>
<p>â€‹	å¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯å¦éƒ½ç¬¦åˆåŒ¹é…æ¡ä»¶ï¼Œç»“æœä¸ºbooleanç±»å‹ã€‚å¦‚æœéƒ½ç¬¦åˆç»“æœä¸ºtrueï¼Œå¦åˆ™ç»“æœä¸ºfalseã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	åˆ¤æ–­æ˜¯å¦æ‰€æœ‰çš„ä½œå®¶éƒ½æ˜¯æˆå¹´äºº</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        åˆ¤æ–­æ˜¯å¦æ‰€æœ‰çš„ä½œå®¶éƒ½æ˜¯æˆå¹´äºº</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> flag <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">allMatch</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>() <span style="color:#f92672">&gt;=</span> 18);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(flag);
</span></span></code></pre></div><h6 id="nonematch">noneMatch<a hidden class="anchor" aria-hidden="true" href="#nonematch">#</a></h6>
<p>â€‹	å¯ä»¥åˆ¤æ–­æµä¸­çš„å…ƒç´ æ˜¯å¦éƒ½ä¸ç¬¦åˆåŒ¹é…æ¡ä»¶ã€‚å¦‚æœéƒ½ä¸ç¬¦åˆç»“æœä¸ºtrueï¼Œå¦åˆ™ç»“æœä¸ºfalse</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	åˆ¤æ–­ä½œå®¶æ˜¯å¦éƒ½æ²¡æœ‰è¶…è¿‡100å²çš„ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        åˆ¤æ–­ä½œå®¶æ˜¯å¦éƒ½æ²¡æœ‰è¶…è¿‡100å²çš„ã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> b <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">noneMatch</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>() <span style="color:#f92672">&gt;</span> 100);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(b);
</span></span></code></pre></div><h6 id="findany">findAny<a hidden class="anchor" aria-hidden="true" href="#findany">#</a></h6>
<p>â€‹	è·å–æµä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ ã€‚è¯¥æ–¹æ³•æ²¡æœ‰åŠæ³•ä¿è¯è·å–çš„ä¸€å®šæ˜¯æµä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	è·å–ä»»æ„ä¸€ä¸ªå¹´é¾„å¤§äº18çš„ä½œå®¶ï¼Œå¦‚æœå­˜åœ¨å°±è¾“å‡ºä»–çš„åå­—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        è·å–ä»»æ„ä¸€ä¸ªå¹´é¾„å¤§äº18çš„ä½œå®¶ï¼Œå¦‚æœå­˜åœ¨å°±è¾“å‡ºä»–çš„åå­—</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> optionalAuthor <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>()<span style="color:#f92672">&gt;</span>18)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">findAny</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        optionalAuthor.<span style="color:#a6e22e">ifPresent</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><h6 id="findfirst">findFirst<a hidden class="anchor" aria-hidden="true" href="#findfirst">#</a></h6>
<p>â€‹	è·å–æµä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	è·å–ä¸€ä¸ªå¹´é¾„æœ€å°çš„ä½œå®¶ï¼Œå¹¶è¾“å‡ºä»–çš„å§“åã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        è·å–ä¸€ä¸ªå¹´é¾„æœ€å°çš„ä½œå®¶ï¼Œå¹¶è¾“å‡ºä»–çš„å§“åã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> first <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">sorted</span>((o1, o2) <span style="color:#f92672">-&gt;</span> o1.<span style="color:#a6e22e">getAge</span>() <span style="color:#f92672">-</span> o2.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">findFirst</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        first.<span style="color:#a6e22e">ifPresent</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><h5 id="reduceå½’å¹¶">reduceå½’å¹¶<a hidden class="anchor" aria-hidden="true" href="#reduceå½’å¹¶">#</a></h5>
<p>â€‹	å¯¹æµä¸­çš„æ•°æ®æŒ‰ç…§ä½ æŒ‡å®šçš„è®¡ç®—æ–¹å¼è®¡ç®—å‡ºä¸€ä¸ªç»“æœã€‚ï¼ˆç¼©å‡æ“ä½œï¼‰</p>
<p>â€‹	reduceçš„ä½œç”¨æ˜¯æŠŠstreamä¸­çš„å…ƒç´ ç»™ç»„åˆèµ·æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ï¼Œå®ƒä¼šæŒ‰ç…§æˆ‘ä»¬çš„è®¡ç®—æ–¹å¼ä¾æ¬¡æ‹¿æµä¸­çš„å…ƒç´ å’Œåˆå§‹åŒ–å€¼è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—ç»“æœå†å’Œåé¢çš„å…ƒç´ è®¡ç®—ã€‚</p>
<p>â€‹	reduceä¸¤ä¸ªå‚æ•°çš„é‡è½½å½¢å¼å†…éƒ¨çš„è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>T result <span style="color:#f92672">=</span> identity;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (T element : <span style="color:#66d9ef">this</span> stream)
</span></span><span style="display:flex;"><span>	result <span style="color:#f92672">=</span> accumulator.<span style="color:#a6e22e">apply</span>(result, element)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> result;
</span></span></code></pre></div><p>â€‹	å…¶ä¸­identityå°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ–¹æ³•å‚æ•°ä¼ å…¥çš„åˆå§‹å€¼ï¼Œaccumulatorçš„applyå…·ä½“è¿›è¡Œä»€ä¹ˆè®¡ç®—ä¹Ÿæ˜¯æˆ‘ä»¬é€šè¿‡æ–¹æ³•å‚æ•°æ¥ç¡®å®šçš„ã€‚</p>
<p>ä¾‹å­ï¼š</p>
<p>â€‹	ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…å¹´é¾„çš„å’Œ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…å¹´é¾„çš„å’Œ</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Integer sum <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">reduce</span>(0, (result, element) <span style="color:#f92672">-&gt;</span> result <span style="color:#f92672">+</span> element);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(sum);
</span></span></code></pre></div><p>â€‹	ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å¤§å€¼</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å¤§å€¼</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Integer max <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">reduce</span>(Integer.<span style="color:#a6e22e">MIN_VALUE</span>, (result, element) <span style="color:#f92672">-&gt;</span> result <span style="color:#f92672">&lt;</span> element <span style="color:#f92672">?</span> element : result);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(max);
</span></span></code></pre></div><p>â€‹	ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å°å€¼</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å°å€¼</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Integer min <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">reduce</span>(Integer.<span style="color:#a6e22e">MAX_VALUE</span>, (result, element) <span style="color:#f92672">-&gt;</span> result <span style="color:#f92672">&gt;</span> element <span style="color:#f92672">?</span> element : result);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(min);
</span></span></code></pre></div><p>â€‹	reduceä¸€ä¸ªå‚æ•°çš„é‡è½½å½¢å¼å†…éƒ¨çš„è®¡ç®—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> 	 <span style="color:#66d9ef">boolean</span> foundAny <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>     T result <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">for</span> (T element : <span style="color:#66d9ef">this</span> stream) {
</span></span><span style="display:flex;"><span>         <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>foundAny) {
</span></span><span style="display:flex;"><span>             foundAny <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>             result <span style="color:#f92672">=</span> element;
</span></span><span style="display:flex;"><span>         }
</span></span><span style="display:flex;"><span>         <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>             result <span style="color:#f92672">=</span> accumulator.<span style="color:#a6e22e">apply</span>(result, element);
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">return</span> foundAny <span style="color:#f92672">?</span> Optional.<span style="color:#a6e22e">of</span>(result) : Optional.<span style="color:#a6e22e">empty</span>();
</span></span></code></pre></div><p>â€‹	å¦‚æœç”¨ä¸€ä¸ªå‚æ•°çš„é‡è½½æ–¹æ³•å»æ±‚æœ€å°å€¼ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        <span style="color:#75715e">//        ä½¿ç”¨reduceæ±‚æ‰€æœ‰ä½œè€…ä¸­å¹´é¾„çš„æœ€å°å€¼</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> minOptional <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">reduce</span>((result, element) <span style="color:#f92672">-&gt;</span> result <span style="color:#f92672">&gt;</span> element <span style="color:#f92672">?</span> element : result);
</span></span><span style="display:flex;"><span>        minOptional.<span style="color:#a6e22e">ifPresent</span>(age<span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(age));
</span></span></code></pre></div><h3 id="35-æ³¨æ„äº‹é¡¹">3.5 æ³¨æ„äº‹é¡¹<a hidden class="anchor" aria-hidden="true" href="#35-æ³¨æ„äº‹é¡¹">#</a></h3>
<ul>
<li>æƒ°æ€§æ±‚å€¼ï¼ˆå¦‚æœæ²¡æœ‰ç»ˆç»“æ“ä½œï¼Œæ²¡æœ‰ä¸­é—´æ“ä½œæ˜¯ä¸ä¼šå¾—åˆ°æ‰§è¡Œçš„ï¼‰</li>
<li>æµæ˜¯ä¸€æ¬¡æ€§çš„ï¼ˆä¸€æ—¦ä¸€ä¸ªæµå¯¹è±¡ç»è¿‡ä¸€ä¸ªç»ˆç»“æ“ä½œåã€‚è¿™ä¸ªæµå°±ä¸èƒ½å†è¢«ä½¿ç”¨ï¼‰</li>
<li>ä¸ä¼šå½±å“åŸæ•°æ®ï¼ˆæˆ‘ä»¬åœ¨æµä¸­å¯ä»¥å¤šæ•°æ®åšå¾ˆå¤šå¤„ç†ã€‚ä½†æ˜¯æ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¸ä¼šå½±å“åŸæ¥é›†åˆä¸­çš„å…ƒç´ çš„ã€‚è¿™å¾€å¾€ä¹Ÿæ˜¯æˆ‘ä»¬æœŸæœ›çš„ï¼‰</li>
</ul>
<h2 id="4-optional">4. Optional<a hidden class="anchor" aria-hidden="true" href="#4-optional">#</a></h2>
<h3 id="41-æ¦‚è¿°">4.1 æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#41-æ¦‚è¿°">#</a></h3>
<p>â€‹	æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™å‡ºç°æœ€å¤šçš„å°±æ˜¯ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚æ‰€ä»¥åœ¨å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦åšå„ç§éç©ºçš„åˆ¤æ–­ã€‚</p>
<p>â€‹	ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Author author <span style="color:#f92672">=</span> getAuthor();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(author<span style="color:#f92672">!=</span><span style="color:#66d9ef">null</span>){
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>());
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><p>â€‹	å°¤å…¶æ˜¯å¯¹è±¡ä¸­çš„å±æ€§è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æƒ…å†µä¸‹ã€‚è¿™ç§åˆ¤æ–­ä¼šæ›´å¤šã€‚</p>
<p>â€‹	è€Œè¿‡å¤šçš„åˆ¤æ–­è¯­å¥ä¼šè®©æˆ‘ä»¬çš„ä»£ç æ˜¾å¾—è‡ƒè‚¿ä¸å ªã€‚</p>
<p>â€‹	æ‰€ä»¥åœ¨JDK8ä¸­å¼•å…¥äº†Optional,å…»æˆä½¿ç”¨Optionalçš„ä¹ æƒ¯åä½ å¯ä»¥å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç æ¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<p>â€‹	å¹¶ä¸”åœ¨å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹ç›¸å…³çš„APIä¸­ä¹Ÿéƒ½ç”¨åˆ°äº†Optionalï¼Œå¦‚æœä¸ä¼šä½¿ç”¨Optionalä¹Ÿä¼šå¯¹å‡½æ•°å¼ç¼–ç¨‹çš„å­¦ä¹ é€ æˆå½±å“ã€‚</p>
<h3 id="42-ä½¿ç”¨">4.2 ä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#42-ä½¿ç”¨">#</a></h3>
<h4 id="421-åˆ›å»ºå¯¹è±¡">4.2.1 åˆ›å»ºå¯¹è±¡<a hidden class="anchor" aria-hidden="true" href="#421-åˆ›å»ºå¯¹è±¡">#</a></h4>
<p>â€‹	Optionalå°±å¥½åƒæ˜¯åŒ…è£…ç±»ï¼Œå¯ä»¥æŠŠæˆ‘ä»¬çš„å…·ä½“æ•°æ®å°è£…Optionalå¯¹è±¡å†…éƒ¨ã€‚ç„¶åæˆ‘ä»¬å»ä½¿ç”¨Optionalä¸­å°è£…å¥½çš„æ–¹æ³•æ“ä½œå°è£…è¿›å»çš„æ•°æ®å°±å¯ä»¥éå¸¸ä¼˜é›…çš„é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<p>â€‹	æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨<strong>Optional</strong>çš„<strong>é™æ€æ–¹æ³•ofNullable</strong>æ¥æŠŠæ•°æ®å°è£…æˆä¸€ä¸ªOptionalå¯¹è±¡ã€‚æ— è®ºä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸ºnulléƒ½ä¸ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Author author <span style="color:#f92672">=</span> getAuthor();
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> Optional.<span style="color:#a6e22e">ofNullable</span>(author);
</span></span></code></pre></div><p>â€‹	ä½ å¯èƒ½ä¼šè§‰å¾—è¿˜è¦åŠ ä¸€è¡Œä»£ç æ¥å°è£…æ•°æ®æ¯”è¾ƒéº»çƒ¦ã€‚ä½†æ˜¯å¦‚æœæ”¹é€ ä¸‹getAuthoræ–¹æ³•ï¼Œè®©å…¶çš„è¿”å›å€¼å°±æ˜¯å°è£…å¥½çš„Optionalçš„è¯ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å°±ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚</p>
<p>â€‹	è€Œä¸”åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬çš„æ•°æ®å¾ˆå¤šæ˜¯ä»æ•°æ®åº“è·å–çš„ã€‚Mybatisä»3.5ç‰ˆæœ¬å¯ä»¥ä¹Ÿå·²ç»æ”¯æŒOptionaläº†ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠdaoæ–¹æ³•çš„è¿”å›å€¼ç±»å‹å®šä¹‰æˆOptionalç±»å‹ï¼ŒMyBastisä¼šè‡ªå·±æŠŠæ•°æ®å°è£…æˆOptionalå¯¹è±¡è¿”å›ã€‚å°è£…çš„è¿‡ç¨‹ä¹Ÿä¸éœ€è¦æˆ‘ä»¬è‡ªå·±æ“ä½œã€‚</p>
<p>â€‹	å¦‚æœä½ <strong>ç¡®å®šä¸€ä¸ªå¯¹è±¡ä¸æ˜¯ç©º</strong>çš„åˆ™å¯ä»¥ä½¿ç”¨<strong>Optional</strong>çš„<strong>é™æ€æ–¹æ³•of</strong>æ¥æŠŠæ•°æ®å°è£…æˆOptionalå¯¹è±¡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Author author <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Author();
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> Optional.<span style="color:#a6e22e">of</span>(author);
</span></span></code></pre></div><p>â€‹	ä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨ofçš„æ—¶å€™ä¼ å…¥çš„å‚æ•°å¿…é¡»ä¸ä¸ºnullã€‚ï¼ˆå°è¯•ä¸‹ä¼ å…¥nullä¼šå‡ºç°ä»€ä¹ˆç»“æœï¼‰</p>
<p>â€‹	å¦‚æœä¸€ä¸ªæ–¹æ³•çš„è¿”å›å€¼ç±»å‹æ˜¯Optionalç±»å‹ã€‚è€Œå¦‚æœæˆ‘ä»¬ç»åˆ¤æ–­å‘ç°æŸæ¬¡è®¡ç®—å¾—åˆ°çš„è¿”å›å€¼ä¸ºnullï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æŠŠnullå°è£…æˆOptionalå¯¹è±¡è¿”å›ã€‚è¿™æ—¶åˆ™å¯ä»¥ä½¿ç”¨<strong>Optional</strong>çš„<strong>é™æ€æ–¹æ³•empty</strong>æ¥è¿›è¡Œå°è£…ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>		Optional.<span style="color:#a6e22e">empty</span>()
</span></span></code></pre></div><p>â€‹</p>
<p>â€‹	æ‰€ä»¥æœ€åä½ è§‰å¾—å“ªç§æ–¹å¼ä¼šæ›´æ–¹ä¾¿å‘¢ï¼Ÿ<strong>ofNullable</strong></p>
<h4 id="422-å®‰å…¨æ¶ˆè´¹å€¼">4.2.2 å®‰å…¨æ¶ˆè´¹å€¼<a hidden class="anchor" aria-hidden="true" href="#422-å®‰å…¨æ¶ˆè´¹å€¼">#</a></h4>
<p>â€‹	æˆ‘ä»¬è·å–åˆ°ä¸€ä¸ªOptionalå¯¹è±¡åè‚¯å®šéœ€è¦å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œä½¿ç”¨ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶<strong>ifPresent</strong>æ–¹æ³•å¯¹æ¥æ¶ˆè´¹å…¶ä¸­çš„å€¼ã€‚</p>
<p>â€‹	è¿™ä¸ªæ–¹æ³•ä¼šåˆ¤æ–­å…¶å†…å°è£…çš„æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºæ—¶æ‰ä¼šæ‰§è¡Œå…·ä½“çš„æ¶ˆè´¹ä»£ç ã€‚è¿™æ ·ä½¿ç”¨èµ·æ¥å°±æ›´åŠ å®‰å…¨äº†ã€‚</p>
<p>â€‹	ä¾‹å¦‚,ä»¥ä¸‹å†™æ³•å°±ä¼˜é›…çš„é¿å…äº†ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> Optional.<span style="color:#a6e22e">ofNullable</span>(getAuthor());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        authorOptional.<span style="color:#a6e22e">ifPresent</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><h4 id="423-è·å–å€¼">4.2.3 è·å–å€¼<a hidden class="anchor" aria-hidden="true" href="#423-è·å–å€¼">#</a></h4>
<p>â€‹	å¦‚æœæˆ‘ä»¬æƒ³è·å–å€¼è‡ªå·±è¿›è¡Œå¤„ç†å¯ä»¥ä½¿ç”¨getæ–¹æ³•è·å–ï¼Œä½†æ˜¯ä¸æ¨èã€‚å› ä¸ºå½“Optionalå†…éƒ¨çš„æ•°æ®ä¸ºç©ºçš„æ—¶å€™ä¼šå‡ºç°å¼‚å¸¸ã€‚</p>
<h4 id="424-å®‰å…¨è·å–å€¼">4.2.4 å®‰å…¨è·å–å€¼<a hidden class="anchor" aria-hidden="true" href="#424-å®‰å…¨è·å–å€¼">#</a></h4>
<p>â€‹	å¦‚æœæˆ‘ä»¬æœŸæœ›å®‰å…¨çš„è·å–å€¼ã€‚æˆ‘ä»¬ä¸æ¨èä½¿ç”¨getæ–¹æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨Optionalæä¾›çš„ä»¥ä¸‹æ–¹æ³•ã€‚</p>
<ul>
<li>
<p>orElseGet</p>
<p>è·å–æ•°æ®å¹¶ä¸”è®¾ç½®æ•°æ®ä¸ºç©ºæ—¶çš„é»˜è®¤å€¼ã€‚å¦‚æœæ•°æ®ä¸ä¸ºç©ºå°±èƒ½è·å–åˆ°è¯¥æ•°æ®ã€‚å¦‚æœä¸ºç©ºåˆ™æ ¹æ®ä½ ä¼ å…¥çš„å‚æ•°æ¥åˆ›å»ºå¯¹è±¡ä½œä¸ºé»˜è®¤å€¼è¿”å›ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> Optional.<span style="color:#a6e22e">ofNullable</span>(getAuthor());
</span></span><span style="display:flex;"><span>        Author author1 <span style="color:#f92672">=</span> authorOptional.<span style="color:#a6e22e">orElseGet</span>(() <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">new</span> Author());
</span></span></code></pre></div></li>
<li>
<p>orElseThrow</p>
<p>è·å–æ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸ä¸ºç©ºå°±èƒ½è·å–åˆ°è¯¥æ•°æ®ã€‚å¦‚æœä¸ºç©ºåˆ™æ ¹æ®ä½ ä¼ å…¥çš„å‚æ•°æ¥åˆ›å»ºå¼‚å¸¸æŠ›å‡ºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> Optional.<span style="color:#a6e22e">ofNullable</span>(getAuthor());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Author author <span style="color:#f92672">=</span> authorOptional.<span style="color:#a6e22e">orElseThrow</span>((Supplier<span style="color:#f92672">&lt;</span>Throwable<span style="color:#f92672">&gt;</span>) () <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">new</span> RuntimeException(<span style="color:#e6db74">&#34;authorä¸ºç©º&#34;</span>));
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (Throwable throwable) {
</span></span><span style="display:flex;"><span>            throwable.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div></li>
</ul>
<h4 id="425-è¿‡æ»¤">4.2.5 è¿‡æ»¤<a hidden class="anchor" aria-hidden="true" href="#425-è¿‡æ»¤">#</a></h4>
<p>â€‹	æˆ‘ä»¬å¯ä»¥ä½¿ç”¨filteræ–¹æ³•å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚å¦‚æœåŸæœ¬æ˜¯æœ‰æ•°æ®çš„ï¼Œä½†æ˜¯ä¸ç¬¦åˆåˆ¤æ–­ï¼Œä¹Ÿä¼šå˜æˆä¸€ä¸ªæ— æ•°æ®çš„Optionalå¯¹è±¡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> Optional.<span style="color:#a6e22e">ofNullable</span>(getAuthor());
</span></span><span style="display:flex;"><span>        authorOptional.<span style="color:#a6e22e">filter</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>()<span style="color:#f92672">&gt;</span>100).<span style="color:#a6e22e">ifPresent</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div><h4 id="426-åˆ¤æ–­">4.2.6 åˆ¤æ–­<a hidden class="anchor" aria-hidden="true" href="#426-åˆ¤æ–­">#</a></h4>
<p>â€‹	æˆ‘ä»¬å¯ä»¥ä½¿ç”¨isPresentæ–¹æ³•è¿›è¡Œæ˜¯å¦å­˜åœ¨æ•°æ®çš„åˆ¤æ–­ã€‚å¦‚æœä¸ºç©ºè¿”å›å€¼ä¸ºfalse,å¦‚æœä¸ä¸ºç©ºï¼Œè¿”å›å€¼ä¸ºtrueã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å¹¶ä¸èƒ½ä½“ç°Optionalçš„å¥½å¤„ï¼Œ<strong>æ›´æ¨èä½¿ç”¨ifPresentæ–¹æ³•</strong>ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> Optional.<span style="color:#a6e22e">ofNullable</span>(getAuthor());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (authorOptional.<span style="color:#a6e22e">isPresent</span>()) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(authorOptional.<span style="color:#a6e22e">get</span>().<span style="color:#a6e22e">getName</span>());
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><h4 id="427-æ•°æ®è½¬æ¢">4.2.7 æ•°æ®è½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#427-æ•°æ®è½¬æ¢">#</a></h4>
<p>â€‹	Optionalè¿˜æä¾›äº†mapå¯ä»¥è®©æˆ‘ä»¬çš„å¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¹¶ä¸”è½¬æ¢å¾—åˆ°çš„æ•°æ®ä¹Ÿè¿˜æ˜¯è¢«OptionalåŒ…è£…å¥½çš„ï¼Œä¿è¯äº†æˆ‘ä»¬çš„ä½¿ç”¨å®‰å…¨ã€‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬æƒ³è·å–ä½œå®¶çš„ä¹¦ç±é›†åˆã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testMap</span>() {
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorOptional <span style="color:#f92672">=</span> getAuthorOptional();
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;&gt;</span> optionalBooks <span style="color:#f92672">=</span> authorOptional.<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getBooks</span>());
</span></span><span style="display:flex;"><span>        optionalBooks.<span style="color:#a6e22e">ifPresent</span>(books <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(books));
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h2 id="5-å‡½æ•°å¼æ¥å£">5. å‡½æ•°å¼æ¥å£<a hidden class="anchor" aria-hidden="true" href="#5-å‡½æ•°å¼æ¥å£">#</a></h2>
<h3 id="51-æ¦‚è¿°">5.1 æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#51-æ¦‚è¿°">#</a></h3>
<p>â€‹	<strong>åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</strong>çš„æ¥å£æˆ‘ä»¬ç§°ä¹‹ä¸ºå‡½æ•°æ¥å£ã€‚</p>
<p>â€‹	JDKçš„å‡½æ•°å¼æ¥å£éƒ½åŠ ä¸Šäº†**@FunctionalInterface** æ³¨è§£è¿›è¡Œæ ‡è¯†ã€‚ä½†æ˜¯æ— è®ºæ˜¯å¦åŠ ä¸Šè¯¥æ³¨è§£åªè¦æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œéƒ½æ˜¯å‡½æ•°å¼æ¥å£ã€‚</p>
<h3 id="52-å¸¸è§å‡½æ•°å¼æ¥å£">5.2 å¸¸è§å‡½æ•°å¼æ¥å£<a hidden class="anchor" aria-hidden="true" href="#52-å¸¸è§å‡½æ•°å¼æ¥å£">#</a></h3>
<ul>
<li>
<p>â€‹	Consumer æ¶ˆè´¹æ¥å£</p>
<p>æ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œæ¶ˆè´¹ã€‚</p>
<p><img loading="lazy" src="%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b.assets/image-20211028145622163-16354041894551.png" alt="image-20211028145622163"  />
</p>
</li>
<li>
<p>â€‹	Function è®¡ç®—è½¬æ¢æ¥å£</p>
<p>æ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­å¯¹ä¼ å…¥çš„å‚æ•°è®¡ç®—æˆ–è½¬æ¢ï¼ŒæŠŠç»“æœè¿”å›</p>
<p><img loading="lazy" src="%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b.assets/image-20211028145707862-16354042291112.png" alt="image-20211028145707862"  />
</p>
</li>
<li>
<p>â€‹	Predicate åˆ¤æ–­æ¥å£</p>
<p>æ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­å¯¹ä¼ å…¥çš„å‚æ•°æ¡ä»¶åˆ¤æ–­ï¼Œè¿”å›åˆ¤æ–­ç»“æœ</p>
<p><img loading="lazy" src="%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b.assets/image-20211028145818743-16354043004393.png" alt="image-20211028145818743"  />
</p>
</li>
<li>
<p>â€‹	Supplier ç”Ÿäº§å‹æ¥å£</p>
<p>æ ¹æ®å…¶ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­åˆ›å»ºå¯¹è±¡ï¼ŒæŠŠåˆ›å»ºå¥½çš„å¯¹è±¡è¿”å›</p>
</li>
</ul>
<p><img loading="lazy" src="%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b.assets/image-20211028145843368-16354043246954.png" alt="image-20211028145843368"  />
</p>
<h3 id="53-å¸¸ç”¨çš„é»˜è®¤æ–¹æ³•">5.3 å¸¸ç”¨çš„é»˜è®¤æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#53-å¸¸ç”¨çš„é»˜è®¤æ–¹æ³•">#</a></h3>
<ul>
<li>
<p>and</p>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨Predicateæ¥å£æ—¶å€™å¯èƒ½éœ€è¦è¿›è¡Œåˆ¤æ–­æ¡ä»¶çš„æ‹¼æ¥ã€‚è€Œandæ–¹æ³•ç›¸å½“äºæ˜¯ä½¿ç”¨&amp;&amp;æ¥æ‹¼æ¥ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>æ‰“å°ä½œå®¶ä¸­å¹´é¾„å¤§äº17å¹¶ä¸”å§“åçš„é•¿åº¦å¤§äº1çš„ä½œå®¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorStream <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>();
</span></span><span style="display:flex;"><span>        authorStream.<span style="color:#a6e22e">filter</span>(<span style="color:#66d9ef">new</span> Predicate<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span>(Author author) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> author.<span style="color:#a6e22e">getAge</span>()<span style="color:#f92672">&gt;</span>17;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }.<span style="color:#a6e22e">and</span>(<span style="color:#66d9ef">new</span> Predicate<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span>(Author author) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> author.<span style="color:#a6e22e">getName</span>().<span style="color:#a6e22e">length</span>()<span style="color:#f92672">&gt;</span>1;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        })).<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author));
</span></span></code></pre></div></li>
<li>
<p>or</p>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨Predicateæ¥å£æ—¶å€™å¯èƒ½éœ€è¦è¿›è¡Œåˆ¤æ–­æ¡ä»¶çš„æ‹¼æ¥ã€‚è€Œoræ–¹æ³•ç›¸å½“äºæ˜¯ä½¿ç”¨||æ¥æ‹¼æ¥ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>æ‰“å°ä½œå®¶ä¸­å¹´é¾„å¤§äº17æˆ–è€…å§“åçš„é•¿åº¦å°äº2çš„ä½œå®¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        æ‰“å°ä½œå®¶ä¸­å¹´é¾„å¤§äº17æˆ–è€…å§“åçš„é•¿åº¦å°äº2çš„ä½œå®¶ã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(<span style="color:#66d9ef">new</span> Predicate<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span>(Author author) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">return</span> author.<span style="color:#a6e22e">getAge</span>()<span style="color:#f92672">&gt;</span>17;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }.<span style="color:#a6e22e">or</span>(<span style="color:#66d9ef">new</span> Predicate<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span>(Author author) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">return</span> author.<span style="color:#a6e22e">getName</span>().<span style="color:#a6e22e">length</span>()<span style="color:#f92672">&lt;</span>2;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                })).<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getName</span>()));
</span></span></code></pre></div></li>
<li>
<p>negate</p>
<p>Predicateæ¥å£ä¸­çš„æ–¹æ³•ã€‚negateæ–¹æ³•ç›¸å½“äºæ˜¯åœ¨åˆ¤æ–­æ·»åŠ å‰é¢åŠ äº†ä¸ª! è¡¨ç¤ºå–å</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>æ‰“å°ä½œå®¶ä¸­å¹´é¾„ä¸å¤§äº17çš„ä½œå®¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">//        æ‰“å°ä½œå®¶ä¸­å¹´é¾„ä¸å¤§äº17çš„ä½œå®¶ã€‚</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(<span style="color:#66d9ef">new</span> Predicate<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span>(Author author) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">return</span> author.<span style="color:#a6e22e">getAge</span>()<span style="color:#f92672">&gt;</span>17;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }.<span style="color:#a6e22e">negate</span>()).<span style="color:#a6e22e">forEach</span>(author <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(author.<span style="color:#a6e22e">getAge</span>()));
</span></span></code></pre></div></li>
</ul>
<h2 id="6-æ–¹æ³•å¼•ç”¨">6. æ–¹æ³•å¼•ç”¨<a hidden class="anchor" aria-hidden="true" href="#6-æ–¹æ³•å¼•ç”¨">#</a></h2>
<p>â€‹	æˆ‘ä»¬åœ¨ä½¿ç”¨lambdaæ—¶ï¼Œå¦‚æœæ–¹æ³•ä½“ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨çš„è¯ï¼ˆåŒ…æ‹¬æ„é€ æ–¹æ³•ï¼‰,æˆ‘ä»¬å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨è¿›ä¸€æ­¥ç®€åŒ–ä»£ç ã€‚</p>
<h3 id="61-æ¨èç”¨æ³•">6.1 æ¨èç”¨æ³•<a hidden class="anchor" aria-hidden="true" href="#61-æ¨èç”¨æ³•">#</a></h3>
<p>â€‹	æˆ‘ä»¬åœ¨ä½¿ç”¨lambdaæ—¶ä¸éœ€è¦è€ƒè™‘ä»€ä¹ˆæ—¶å€™ç”¨æ–¹æ³•å¼•ç”¨ï¼Œç”¨å“ªç§æ–¹æ³•å¼•ç”¨ï¼Œæ–¹æ³•å¼•ç”¨çš„æ ¼å¼æ˜¯ä»€ä¹ˆã€‚æˆ‘ä»¬åªéœ€è¦åœ¨å†™å®Œlambdaæ–¹æ³•å‘ç°æ–¹æ³•ä½“åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¹¶ä¸”æ˜¯æ–¹æ³•çš„è°ƒç”¨æ—¶ä½¿ç”¨å¿«æ·é”®å°è¯•æ˜¯å¦èƒ½å¤Ÿè½¬æ¢æˆæ–¹æ³•å¼•ç”¨å³å¯ã€‚</p>
<p>â€‹	å½“æˆ‘ä»¬æ–¹æ³•å¼•ç”¨ä½¿ç”¨çš„å¤šäº†æ…¢æ…¢çš„ä¹Ÿå¯ä»¥ç›´æ¥å†™å‡ºæ–¹æ³•å¼•ç”¨ã€‚</p>
<h3 id="62-åŸºæœ¬æ ¼å¼">6.2 åŸºæœ¬æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#62-åŸºæœ¬æ ¼å¼">#</a></h3>
<p>â€‹	ç±»åæˆ–è€…å¯¹è±¡å::æ–¹æ³•å</p>
<h3 id="63-è¯­æ³•è¯¦è§£äº†è§£">6.3 è¯­æ³•è¯¦è§£(äº†è§£)<a hidden class="anchor" aria-hidden="true" href="#63-è¯­æ³•è¯¦è§£äº†è§£">#</a></h3>
<h4 id="631-å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•">6.3.1 å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#631-å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•">#</a></h4>
<p>â€‹	å…¶å®å°±æ˜¯å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•</p>
<h5 id="æ ¼å¼">æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#æ ¼å¼">#</a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ç±»å::æ–¹æ³•å
</span></span></code></pre></div><h5 id="ä½¿ç”¨å‰æ">ä½¿ç”¨å‰æ<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å‰æ">#</a></h5>
<p>â€‹	å¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­<strong>åªæœ‰ä¸€è¡Œä»£ç </strong>ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯<strong>è°ƒç”¨äº†æŸä¸ªç±»çš„é™æ€æ–¹æ³•</strong>ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠè¦é‡å†™çš„<strong>æŠ½è±¡æ–¹æ³•ä¸­æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªé™æ€æ–¹æ³•ä¸­</strong>ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•ã€‚</p>
<p>â€‹</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>å¦‚ä¸‹ä»£ç å°±å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨è¿›è¡Œç®€åŒ–</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorStream <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        authorStream.<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age<span style="color:#f92672">-&gt;</span>String.<span style="color:#a6e22e">valueOf</span>(age));
</span></span></code></pre></div><p>æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬æ‰€é‡å†™çš„æ–¹æ³•æ˜¯æ²¡æœ‰å‚æ•°çš„ï¼Œè°ƒç”¨çš„æ–¹æ³•ä¹Ÿæ˜¯æ²¡æœ‰å‚æ•°çš„ä¹Ÿç›¸å½“äºç¬¦åˆä»¥ä¸Šè§„åˆ™ã€‚</p>
<p>ä¼˜åŒ–åå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorStream <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        authorStream.<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(String::valueOf);
</span></span></code></pre></div><h4 id="632-å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•">6.3.2 å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#632-å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•">#</a></h4>
<h5 id="æ ¼å¼-1">æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#æ ¼å¼-1">#</a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>å¯¹è±¡å::æ–¹æ³•å
</span></span></code></pre></div><h5 id="ä½¿ç”¨å‰æ-1">ä½¿ç”¨å‰æ<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å‰æ-1">#</a></h5>
<p>â€‹	å¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­<strong>åªæœ‰ä¸€è¡Œä»£ç </strong>ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯<strong>è°ƒç”¨äº†æŸä¸ªå¯¹è±¡çš„æˆå‘˜æ–¹æ³•</strong>ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠè¦é‡å†™çš„<strong>æŠ½è±¡æ–¹æ³•ä¸­æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªæˆå‘˜æ–¹æ³•ä¸­</strong>ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•</p>
<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorStream <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>();
</span></span><span style="display:flex;"><span>        StringBuilder sb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder();
</span></span><span style="display:flex;"><span>        authorStream.<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(name<span style="color:#f92672">-&gt;</span>sb.<span style="color:#a6e22e">append</span>(name));
</span></span></code></pre></div><p>ä¼˜åŒ–åï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authorStream <span style="color:#f92672">=</span> authors.<span style="color:#a6e22e">stream</span>();
</span></span><span style="display:flex;"><span>        StringBuilder sb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder();
</span></span><span style="display:flex;"><span>        authorStream.<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(sb::append);
</span></span></code></pre></div><h4 id="634-å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³•">6.3.4 å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#634-å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³•">#</a></h4>
<h5 id="æ ¼å¼-2">æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#æ ¼å¼-2">#</a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ç±»å::æ–¹æ³•å
</span></span></code></pre></div><h5 id="ä½¿ç”¨å‰æ-2">ä½¿ç”¨å‰æ<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å‰æ-2">#</a></h5>
<p>â€‹	å¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­<strong>åªæœ‰ä¸€è¡Œä»£ç </strong>ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯<strong>è°ƒç”¨äº†ç¬¬ä¸€ä¸ªå‚æ•°çš„æˆå‘˜æ–¹æ³•</strong>ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠè¦<strong>é‡å†™çš„æŠ½è±¡æ–¹æ³•ä¸­å‰©ä½™çš„æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªæˆå‘˜æ–¹æ³•ä¸­</strong>ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨ç±»çš„å®ä¾‹æ–¹æ³•ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">UseString</span>{
</span></span><span style="display:flex;"><span>        String <span style="color:#a6e22e">use</span>(String str,<span style="color:#66d9ef">int</span> start,<span style="color:#66d9ef">int</span> length);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">subAuthorName</span>(String str, UseString useString){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> start <span style="color:#f92672">=</span> 0;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> length <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> useString.<span style="color:#a6e22e">use</span>(str,start,length);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        subAuthorName(<span style="color:#e6db74">&#34;ä¸‰æ›´è‰å ‚&#34;</span>, <span style="color:#66d9ef">new</span> UseString() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">use</span>(String str, <span style="color:#66d9ef">int</span> start, <span style="color:#66d9ef">int</span> length) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> str.<span style="color:#a6e22e">substring</span>(start,length);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>ä¼˜åŒ–åå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        subAuthorName(<span style="color:#e6db74">&#34;ä¸‰æ›´è‰å ‚&#34;</span>, String::substring);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h4 id="635-æ„é€ å™¨å¼•ç”¨">6.3.5 æ„é€ å™¨å¼•ç”¨<a hidden class="anchor" aria-hidden="true" href="#635-æ„é€ å™¨å¼•ç”¨">#</a></h4>
<p>â€‹	å¦‚æœæ–¹æ³•ä½“ä¸­çš„ä¸€è¡Œä»£ç æ˜¯æ„é€ å™¨çš„è¯å°±å¯ä»¥ä½¿ç”¨æ„é€ å™¨å¼•ç”¨ã€‚</p>
<h5 id="æ ¼å¼-3">æ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#æ ¼å¼-3">#</a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ç±»å::<span style="color:#66d9ef">new</span>
</span></span></code></pre></div><h5 id="ä½¿ç”¨å‰æ-3">ä½¿ç”¨å‰æ<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å‰æ-3">#</a></h5>
<p>â€‹	å¦‚æœæˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•çš„æ—¶å€™ï¼Œæ–¹æ³•ä½“ä¸­<strong>åªæœ‰ä¸€è¡Œä»£ç </strong>ï¼Œå¹¶ä¸”è¿™è¡Œä»£ç æ˜¯<strong>è°ƒç”¨äº†æŸä¸ªç±»çš„æ„é€ æ–¹æ³•</strong>ï¼Œå¹¶ä¸”æˆ‘ä»¬æŠŠ<strong>è¦é‡å†™çš„æŠ½è±¡æ–¹æ³•ä¸­çš„æ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§é¡ºåºä¼ å…¥äº†è¿™ä¸ªæ„é€ æ–¹æ³•ä¸­</strong>ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼•ç”¨æ„é€ å™¨ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(name<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span> StringBuilder(name))
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(sb<span style="color:#f92672">-&gt;</span>sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;-ä¸‰æ›´&#34;</span>).<span style="color:#a6e22e">toString</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(str<span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(str));
</span></span></code></pre></div><p>ä¼˜åŒ–åï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getName</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(StringBuilder::<span style="color:#66d9ef">new</span>)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(sb<span style="color:#f92672">-&gt;</span>sb.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;-ä¸‰æ›´&#34;</span>).<span style="color:#a6e22e">toString</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(str<span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(str));
</span></span></code></pre></div><h2 id="7-é«˜çº§ç”¨æ³•">7. é«˜çº§ç”¨æ³•<a hidden class="anchor" aria-hidden="true" href="#7-é«˜çº§ç”¨æ³•">#</a></h2>
<h3 id="åŸºæœ¬æ•°æ®ç±»å‹ä¼˜åŒ–">åŸºæœ¬æ•°æ®ç±»å‹ä¼˜åŒ–<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬æ•°æ®ç±»å‹ä¼˜åŒ–">#</a></h3>
<p>â€‹	æˆ‘ä»¬ä¹‹å‰ç”¨åˆ°çš„å¾ˆå¤šStreamçš„æ–¹æ³•ç”±äºéƒ½ä½¿ç”¨äº†æ³›å‹ã€‚æ‰€ä»¥æ¶‰åŠåˆ°çš„å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚</p>
<p>â€‹	å³ä½¿æˆ‘ä»¬æ“ä½œçš„æ˜¯æ•´æ•°å°æ•°ï¼Œä½†æ˜¯å®é™…ç”¨çš„éƒ½æ˜¯ä»–ä»¬çš„åŒ…è£…ç±»ã€‚JDK5ä¸­å¼•å…¥çš„è‡ªåŠ¨è£…ç®±å’Œè‡ªåŠ¨æ‹†ç®±è®©æˆ‘ä»¬åœ¨ä½¿ç”¨å¯¹åº”çš„åŒ…è£…ç±»æ—¶å°±å¥½åƒä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä¸€æ ·æ–¹ä¾¿ã€‚ä½†æ˜¯ä½ ä¸€å®šè¦çŸ¥é“è£…ç®±å’Œæ‹†ç®±è‚¯å®šæ˜¯è¦æ¶ˆè€—æ—¶é—´çš„ã€‚è™½ç„¶è¿™ä¸ªæ—¶é—´æ¶ˆè€—å¾ˆä¸‹ã€‚ä½†æ˜¯åœ¨å¤§é‡çš„æ•°æ®ä¸æ–­çš„é‡å¤è£…ç®±æ‹†ç®±çš„æ—¶å€™ï¼Œä½ å°±ä¸èƒ½æ— è§†è¿™ä¸ªæ—¶é—´æŸè€—äº†ã€‚</p>
<p>â€‹	æ‰€ä»¥ä¸ºäº†è®©æˆ‘ä»¬èƒ½å¤Ÿå¯¹è¿™éƒ¨åˆ†çš„æ—¶é—´æ¶ˆè€—è¿›è¡Œä¼˜åŒ–ã€‚Streamè¿˜æä¾›äº†å¾ˆå¤šä¸“é—¨é’ˆå¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„æ–¹æ³•ã€‚</p>
<p>â€‹	ä¾‹å¦‚ï¼šmapToInt,mapToLong,mapToDouble,flatMapToInt,flatMapToDoubleç­‰ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test27</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age <span style="color:#f92672">-&gt;</span> age <span style="color:#f92672">+</span> 10)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(age<span style="color:#f92672">-&gt;</span>age<span style="color:#f92672">&gt;</span>18)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age<span style="color:#f92672">-&gt;</span>age<span style="color:#f92672">+</span>2)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">mapToInt</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age <span style="color:#f92672">-&gt;</span> age <span style="color:#f92672">+</span> 10)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(age<span style="color:#f92672">-&gt;</span>age<span style="color:#f92672">&gt;</span>18)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age<span style="color:#f92672">-&gt;</span>age<span style="color:#f92672">+</span>2)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h3 id="å¹¶è¡Œæµ">å¹¶è¡Œæµ<a hidden class="anchor" aria-hidden="true" href="#å¹¶è¡Œæµ">#</a></h3>
<p>â€‹	å½“æµä¸­æœ‰å¤§é‡å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¶è¡Œæµå»æé«˜æ“ä½œçš„æ•ˆç‡ã€‚å…¶å®å¹¶è¡Œæµå°±æ˜¯æŠŠä»»åŠ¡åˆ†é…ç»™å¤šä¸ªçº¿ç¨‹å»å®Œå…¨ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å»ç”¨ä»£ç å®ç°çš„è¯å…¶å®ä¼šéå¸¸çš„å¤æ‚ï¼Œå¹¶ä¸”è¦æ±‚ä½ å¯¹å¹¶å‘ç¼–ç¨‹æœ‰è¶³å¤Ÿçš„ç†è§£å’Œè®¤è¯†ã€‚è€Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨Streamçš„è¯ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨å°±å¯ä»¥ä½¿ç”¨å¹¶è¡Œæµæ¥å¸®æˆ‘ä»¬å®ç°ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚</p>
<p>â€‹	parallelæ–¹æ³•å¯ä»¥æŠŠä¸²è¡Œæµè½¬æ¢æˆå¹¶è¡Œæµã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test28</span>() {
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> stream <span style="color:#f92672">=</span> Stream.<span style="color:#a6e22e">of</span>(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
</span></span><span style="display:flex;"><span>        Integer sum <span style="color:#f92672">=</span> stream.<span style="color:#a6e22e">parallel</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">peek</span>(<span style="color:#66d9ef">new</span> Consumer<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">accept</span>(Integer num) {
</span></span><span style="display:flex;"><span>                        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(num<span style="color:#f92672">+</span>Thread.<span style="color:#a6e22e">currentThread</span>().<span style="color:#a6e22e">getName</span>());
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                })
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(num <span style="color:#f92672">-&gt;</span> num <span style="color:#f92672">&gt;</span> 5)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">reduce</span>((result, ele) <span style="color:#f92672">-&gt;</span> result <span style="color:#f92672">+</span> ele)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">get</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(sum);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>â€‹	ä¹Ÿå¯ä»¥é€šè¿‡parallelStreamç›´æ¥è·å–å¹¶è¡Œæµå¯¹è±¡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Author<span style="color:#f92672">&gt;</span> authors <span style="color:#f92672">=</span> getAuthors();
</span></span><span style="display:flex;"><span>        authors.<span style="color:#a6e22e">parallelStream</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(author <span style="color:#f92672">-&gt;</span> author.<span style="color:#a6e22e">getAge</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age <span style="color:#f92672">-&gt;</span> age <span style="color:#f92672">+</span> 10)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">filter</span>(age<span style="color:#f92672">-&gt;</span>age<span style="color:#f92672">&gt;</span>18)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">map</span>(age<span style="color:#f92672">-&gt;</span>age<span style="color:#f92672">+</span>2)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span></code></pre></div>

        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="https://XianCH.github.io/posts/tech/java/java%E9%9D%A2%E8%AF%95%E9%A2%98/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>javaé¢è¯•é¢˜</span>
  </a>
  <a class="next" href="https://XianCH.github.io/posts/tech/distributed/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BF%9D%E6%8A%A4/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>å¾®æœåŠ¡ä¿æŠ¤</span>
  </a>
</nav>

        </footer>
    </div>






</article>
</main>

<footer class="footer">
    <span>
        Copyright
        &copy;
        -2024
        <a href="https://XianCH.github.io/" style="color:#939393;">X14n&#39;s Blog</a>
        All Rights Reserved
    </span>
    <a href="https://beian.miit.gov.cn/" target="_blank" style="color:#939393;"></a>&nbsp;
    <span>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null"
           style="display:inline-block;text-decoration:none;height:20px;color:#939393;">
            <img src="" style="float:left;margin: 0px 5px 0px 0px;"/>
            
        </a>
    </span>
    <span id="busuanzi_container">
        <span class="fa fa-user"></span> <span id="busuanzi_value_site_uv"></span>
        <span class="fa fa-eye"></span> <span id="busuanzi_value_site_pv"></span>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        (function() {
            document.cookie = "change-themes" + "="+ escape ("false");
        })()

        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    });
</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"X14n's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"X14n's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;
        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerText = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerText = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"X14n's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {}
            selection.removeRange(range);
        });

        let language = codeblock.className.replaceAll("language-", "")
        let macTool = document.createElement("div")
        let macTool1 = document.createElement("div")
        let macTool2 = document.createElement("div")
        let macTool3 = document.createElement("div")
        let languageType = document.createElement("div")
        languageType.innerText = language
        macTool.setAttribute('class', 'mac-tool')
        macTool1.setAttribute('class', 'mac bb1')
        macTool2.setAttribute('class', 'mac bb2')
        macTool3.setAttribute('class', 'mac bb3')
        languageType.setAttribute('class', 'language-type')
        macTool.appendChild(macTool1)
        macTool.appendChild(macTool2)
        macTool.appendChild(macTool3)
        macTool.appendChild(languageType)

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool)
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        }
    });
</script>
</body>

</html>
